{"remainingRequest":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\src\\views\\Coupon.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\src\\views\\Coupon.vue","mtime":1659793824000},{"path":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7TG9hZGluZ30gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCB7Tm90aWZ5fSBmcm9tICd2YW50JzsKaW1wb3J0IGNvdXBvbkFwaSBmcm9tICIuLi9hcGkvY291cG9uQXBpIjsKaW1wb3J0IGRhdGVGb21hdFV0aWxzIGZyb20gIi4uL3V0aWxzL2RhdGVGb21hdFV0aWxzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJHZXRDb3Vwb24iLAogICAgZGF0YSgpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgY291cG9uUGFnZUxpc3Q6dW5kZWZpbmVkLAogICAgICAgICAgICBwb3B1cFNob3c6ZmFsc2UsCiAgICAgICAgICAgIHBvcHVwTWVzc2FnZTon5pqC5peg6K+05piOJywKICAgICAgICB9CiAgICB9LAoKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgdGhpcy5pbml0KCk7CiAgICB9LAoKICAgIG1ldGhvZHM6ewoKICAgICAgICBpbml0KCl7CiAgICAgICAgICAgIHRoaXMubG9hZENvdXBvbkJhdGNoUGFnZUxpc3QoKTsKICAgICAgICB9LAoKICAgICAgICBvbkNsb3NlRXZlbnQoKXsKICAgICAgICAgICAgdGhpcy5wb3B1cFNob3cgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5wb3B1cE1lc3NhZ2UgPSAn5pqC5peg6K+05piOJzsKICAgICAgICB9LAoKICAgICAgICBhc3luYyBsb2FkQ291cG9uQmF0Y2hQYWdlTGlzdCgpewogICAgICAgICAgICBsZXQgbG9hZGluZ0luc3RhbmNlID0gTG9hZGluZy5zZXJ2aWNlKHsgZnVsbHNjcmVlbjogdHJ1ZSB9KTsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCB7c3RhdHVzLCBtZXNzYWdlLCBkYXRhfSA9IGF3YWl0IGNvdXBvbkFwaS5saXN0KCk7CiAgICAgICAgICAgICAgICBpZihzdGF0dXMpewogICAgICAgICAgICAgICAgICAgIGxvYWRpbmdJbnN0YW5jZS5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuY291cG9uUGFnZUxpc3QgPSBkYXRhOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgTm90aWZ5KG1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9Y2F0Y2ggKGUpe30KICAgICAgICAgICAgbG9hZGluZ0luc3RhbmNlLmNsb3NlKCk7CiAgICAgICAgfSwKCiAgICAgICAgZGF0ZUZvcm1hdCh2MSl7CiAgICAgICAgICAgIHJldHVybiBkYXRlRm9tYXRVdGlscy5kYXRlRm9ybWF0KHYxLCJ5eXl5LU1NLWRkIGhoOm1tIikKICAgICAgICB9LAoKICAgICAgICBjb3Vwb25Db2xvckNsYXNzKHYxKXsKICAgICAgICAgICAgaWYgKHYxIDwgMTAgKXsKICAgICAgICAgICAgICAgIHJldHVybiAic3RhbXAwMSI7CiAgICAgICAgICAgIH1lbHNlIGlmICh2MSA+IDEwICYmIHYxIDwgNTApewogICAgICAgICAgICAgICAgcmV0dXJuICJzdGFtcDAyIgogICAgICAgICAgICB9ZWxzZSBpZih2MSA+IDUwICYmIHYxIDwgMTAwKXsKICAgICAgICAgICAgICAgIHJldHVybiAic3RhbXAwMyIKICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuICJzdGFtcDA0IgogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgdG9QYWdlKGNvdXBvbk9iail7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvIikKICAgICAgICB9LAoKICAgICAgICBvbkNvdXBvbkRldGFpbEV2ZW50KGNvdXBvbk9iail7CiAgICAgICAgICAgICAgdGhpcy5wb3B1cFNob3cgPSB0cnVlOwogICAgICAgICAgICAgIHRoaXMucG9wdXBNZXNzYWdlID0gY291cG9uT2JqLmRlc2NyaXB0aW9uOwogICAgICAgIH0sCiAgICB9Cn0K"},{"version":3,"sources":["Coupon.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Coupon.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n\n        <template v-if=\"couponPageList\">\n            <div v-for=\"cp in couponPageList\" :key=\"cp.id\" class=\"stamp\" :class=\"couponColorClass(cp.price)\" >\n                <div class=\"par\" @click.stop.prevent=\"onCouponDetailEvent(cp)\">\n                    <p v-text=\"cp.couponName\"></p>\n                    <sub class=\"sign\">￥</sub>\n                    <span v-text=\"cp.price\"></span>\n                    <sub v-if=\"cp.couponType === 0\">全场满减</sub>\n                    <sub v-if=\"cp.couponType === 1\">指定分类满减</sub>\n                    <sub v-if=\"cp.couponType === 2\">单品满减</sub>\n                    <p>订单满{{ cp.threshold }}元即可使用</p></div>\n                <div class=\"copy\">\n                    满减券\n                    <p>\n                        {{dateFormat(cp.startTime)}}\n                        <br>\n                        {{dateFormat(cp.endTime)}}\n                    </p>\n                    <a @click.stop.prevent=\"toPage(cp)\">立即去使用</a>\n                </div>\n                <div class=\"card__body\"></div>\n            </div>\n        </template>\n        <div class=\"popup__body\" v-show=\"popupShow\" @click.stop.prevent=\"onCloseEvent\">\n            <div class=\"popup-message__body\"  @click.stop.prevent=\"\" v-text=\"popupMessage\"></div>\n        </div>\n\n    </div>\n</template>\n\n<script>\nimport {Loading} from 'element-ui';\nimport {Notify} from 'vant';\nimport couponApi from \"../api/couponApi\";\nimport dateFomatUtils from \"../utils/dateFomatUtils\";\n\nexport default {\n    name: \"GetCoupon\",\n    data(){\n        return{\n            couponPageList:undefined,\n            popupShow:false,\n            popupMessage:'暂无说明',\n        }\n    },\n\n    created() {\n        this.init();\n    },\n\n    methods:{\n\n        init(){\n            this.loadCouponBatchPageList();\n        },\n\n        onCloseEvent(){\n            this.popupShow = false;\n            this.popupMessage = '暂无说明';\n        },\n\n        async loadCouponBatchPageList(){\n            let loadingInstance = Loading.service({ fullscreen: true });\n\n            try {\n                const {status, message, data} = await couponApi.list();\n                if(status){\n                    loadingInstance.close();\n                    this.couponPageList = data;\n                }else{\n                    Notify(message);\n                }\n            }catch (e){}\n            loadingInstance.close();\n        },\n\n        dateFormat(v1){\n            return dateFomatUtils.dateFormat(v1,\"yyyy-MM-dd hh:mm\")\n        },\n\n        couponColorClass(v1){\n            if (v1 < 10 ){\n                return \"stamp01\";\n            }else if (v1 > 10 && v1 < 50){\n                return \"stamp02\"\n            }else if(v1 > 50 && v1 < 100){\n                return \"stamp03\"\n            }else {\n                return \"stamp04\"\n            }\n        },\n\n        toPage(couponObj){\n            this.$router.replace(\"/\")\n        },\n\n        onCouponDetailEvent(couponObj){\n              this.popupShow = true;\n              this.popupMessage = couponObj.description;\n        },\n    }\n}\n</script>\n\n<style scoped>\n.popup__body{\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n}\n.popup-message__body{\n    background-color: #FFFFFF;\n    box-sizing: border-box;\n    width: 80vw;\n    min-height: 30vh;\n    max-height: 60vh;\n    padding: 16rem;\n    border-radius: 8rem;\n    overflow: hidden auto;\n    font-size: 14rem;\n    box-shadow: 0 2px 12px rgba(0,0,0,0.35);\n}\n.stamp {\n    margin: 10rem auto;\n    display: grid;\n    grid-template-columns: 2fr 1fr;\n    /*width: 387px;*/\n    width: 342px;\n    height: 140px;\n    padding: 0 10px;\n    position: relative;\n    overflow: hidden;\n}\n\n.stamp:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 10px;\n    right: 10px;\n    z-index: -1;\n}\n\n.stamp:after {\n    content: '';\n    position: absolute;\n    left: 10px;\n    top: 10px;\n    right: 10px;\n    bottom: 10px;\n    /*box-shadow: 0 0 20px 1px rgba(0, 0, 0, 0.5);*/\n    z-index: -2;\n}\n\n.stamp .card__body {\n    z-index: 1;\n    position: absolute;\n    left: 20%;\n    top: 45px;\n    height: 190px;\n    width: 390px;\n    background-color: rgba(255, 255, 255, .15);\n    transform: rotate(-30deg);\n}\n\n.stamp .par {\n    z-index: 100;\n    height: 140rem;\n    box-sizing:border-box;\n    float: left;\n    padding: 0 15px 0;\n    /*width: 220px;*/\n    width: 100%;\n    border-right: 2px dashed rgba(255, 255, 255, .3);\n    text-align: left;\n}\n\n.stamp .par p {\n    font-size: 12rem;\n    color: #fff;\n}\n\n.stamp .par span {\n    font-size: 50px;\n    color: #fff;\n    margin-right: 5px;\n}\n\n.stamp .par .sign {\n    font-size: 34px;\n}\n\n.stamp .par sub {\n    font-size: 12rem;\n    position: relative;\n    top: -5px;\n    color: rgba(255, 255, 255, .8);\n}\n\n.stamp .copy {\n    z-index: 100;\n    /*display: inline-block;*/\n    padding: 21px 14px;\n    width: 100px;\n    vertical-align: text-bottom;\n    font-size: 30px;\n    color: rgb(255, 255, 255);\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: flex-start;\n}\n\n.stamp .copy p {\n    z-index: 100;\n    font-size: 16px;\n    margin-top: 15px;\n}\n\n.stamp .copy a {\n    text-align: center;\n    z-index: 100;\n    background-color: #fff;\n    color: #333;\n    font-size: 14px;\n    text-decoration: none;\n    padding: 5px 10px;\n    border-radius: 3px;\n    display: block;\n}\n\n.stamp01 {\n    background: #F39B00;\n    background: radial-gradient(rgba(0, 0, 0, 0) 0, rgba(0, 0, 0, 0) 5px, #F39B00 5px);\n    background-size: 15px 15px;\n    background-position: 9px 3px;\n}\n\n.stamp01:before {\n    background-color: #F39B00;\n}\n\n.stamp01 .copy {\n    z-index: 2;\n    padding: 10px 6px 10px 12px;\n    font-size: 24px;\n}\n\n.stamp01 .copy p {\n    /*font-size: 14px;*/\n    font-size: 12rem;\n    margin-top: 5px;\n    margin-bottom: 8px;\n}\n\n.stamp01 .copy a {\n    background-color: #fff;\n    color: #333;\n    font-size: 14px;\n    text-decoration: none;\n    padding: 5px 10px;\n    border-radius: 3px;\n    display: block;\n    z-index: 6;\n}\n\n\n.stamp02 {\n    background: #D24161;\n    background: radial-gradient(transparent 0, transparent 5px, #D24161 5px);\n    background-size: 15px 15px;\n    background-position: 9px 3px;\n}\n\n.stamp02:before {\n    background-color: #D24161;\n}\n\n.stamp02 .copy {\n    z-index: 2;\n    padding: 10px 6px 10px 12px;\n    font-size: 24px;\n}\n\n.stamp02 .copy p {\n    /*font-size: 14px;*/\n    font-size: 12rem;\n    margin-top: 5px;\n    margin-bottom: 8px;\n}\n\n.stamp02 .copy a {\n    background-color: #fff;\n    color: #333;\n    font-size: 14px;\n    text-decoration: none;\n    padding: 5px 10px;\n    border-radius: 3px;\n    display: block;\n    z-index: 6;\n}\n\n.stamp03 {\n    background: #7EAB1E;\n    background: radial-gradient(transparent 0, transparent 5px, #7EAB1E 5px);\n    background-size: 15px 15px;\n    background-position: 9px 3px;\n}\n\n.stamp03:before {\n    background-color: #7EAB1E;\n}\n\n.stamp03 .copy {\n    z-index: 2;\n    padding: 10px 6px 10px 12px;\n    font-size: 24px;\n}\n\n.stamp03 .copy p {\n    /*font-size: 14px;*/\n    margin-top: 5px;\n    font-size: 12rem;\n    margin-bottom: 8px;\n}\n\n.stamp03 .copy a {\n    background-color: #fff;\n    color: #333;\n    font-size: 14px;\n    text-decoration: none;\n    padding: 5px 10px;\n    border-radius: 3px;\n    display: block;\n    z-index: 6;\n}\n\n.stamp04 {\n    background: #50ADD3;\n    background: radial-gradient(rgba(0, 0, 0, 0) 0, rgba(0, 0, 0, 0) 4px, #50ADD3 4px);\n    background-size: 15px 15px;\n    background-position: 9px 3px;\n}\n\n.stamp04:before {\n    background-color: #50ADD3;\n}\n\n.stamp04 .copy {\n    z-index: 2;\n    padding: 10px 6px 10px 12px;\n    font-size: 24px;\n}\n\n.stamp04 .copy p {\n    /*font-size: 14px;*/\n    margin-top: 5px;\n    font-size: 12rem;\n    margin-bottom: 8px;\n}\n\n.stamp04 .copy a {\n    background-color: #fff;\n    color: #333;\n    font-size: 14px;\n    text-decoration: none;\n    padding: 5px 10px;\n    border-radius: 3px;\n    display: block;\n    z-index: 6;\n}\n</style>"]}]}