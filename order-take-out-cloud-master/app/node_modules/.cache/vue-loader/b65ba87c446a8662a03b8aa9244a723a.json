{"remainingRequest":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\src\\views\\AddressBook.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\src\\views\\AddressBook.vue","mtime":1659793824000},{"path":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQge0xvYWRpbmd9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQge05vdGlmeSwgVG9hc3R9IGZyb20gJ3ZhbnQnOwppbXBvcnQgdXNlckFkZHJlc3NCb29rQXBpIGZyb20gIi4uL2FwaS91c2VyQWRkcmVzc0Jvb2tBcGkiOwppbXBvcnQgbG9jYWxTdG9yYWdlQ2FjaGUgZnJvbSAiLi4vdXRpbHMvbG9jYWxTdG9yYWdlIjsKaW1wb3J0IHN5c3RlbSBmcm9tICIuLi9jb21tb24vc3lzdGVtIjsKLy8g5a2Y5YKo5LiK5LiA57qn6Lev55Sx5Zyw5Z2ACmxldCBwcmV2aW91c1BhZ2VVcmwgPSB1bmRlZmluZWQ7CmNvbnN0IFBBR0VfTkFNRSA9ICflnLDlnYDnsL/pobUnOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiQWRkcmVzc0Jvb2siLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAvLyDlnLDlnYDliJfooagKICAgICAgICAgICAgYWRkcmVzc0xpc3Q6IFtdLAogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDoge30sCiAgICBjcmVhdGVkKCl7CiAgICAgICAgY29uc29sZS5sb2coUEFHRV9OQU1FKyLliJvlu7oiKTsKICAgICAgICB0aGlzLmluaXREYXRhKCkKICAgIH0sCiAgICBiZWZvcmVNb3VudCgpIHsKICAgICAgICBjb25zb2xlLmxvZyhQQUdFX05BTUUrIuWIneWni+WMliIpOwogICAgfSwKICAgIG1vdW50ZWQoKXsKICAgICAgICBjb25zb2xlLmxvZyhQQUdFX05BTUUrIuWIneWni+WMluWujOaIkCIpOwogICAgfSwKICAgIGJlZm9yZURlc3Ryb3koKSB7CiAgICAgICAgY29uc29sZS5sb2coUEFHRV9OQU1FKyLplIDmr4HliY0iKTsKICAgIH0sCiAgICBkZXN0cm95ZWQoKSB7CiAgICAgICAgY29uc29sZS5sb2coUEFHRV9OQU1FKyLplIDmr4HkuoYiKTsKICAgIH0sCiAgICBiZWZvcmVSb3V0ZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CiAgICAgICAgLy8gY29uc29sZS5sb2codG8sZnJvbSk7CiAgICAgICAgY29uc29sZS5sb2coUEFHRV9OQU1FKyLot6/nlLHlmajov5vlhaUiKTsKICAgICAgICBwcmV2aW91c1BhZ2VVcmwgPSBmcm9tLmZ1bGxQYXRoOwogICAgICAgIGNvbnN0IHJvdXRlclRvUGFyYW1zID0gdG8ucGFyYW1zOwogICAgICAgIG5leHQodm0gPT4gewogICAgICAgICAgICAvLyDmo4Dmn6XmmK/lkKbliLfmlrDlnLDlnYAs5oiWCiAgICAgICAgICAgIGlmIChyb3V0ZXJUb1BhcmFtcyl7CiAgICAgICAgICAgICAgICBpZiAocm91dGVyVG9QYXJhbXMuZmx1c2hDYWhjZUlkKXsKICAgICAgICAgICAgICAgICAgICB2bS5yZW1vdmVBZGRyZXNzQm9va0J5SWQocm91dGVyVG9QYXJhbXMuZmx1c2hDYWhjZUlkKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgbWV0aG9kczogewoKICAgICAgICAvLyDov5Tlm57kuIrkuIDlsYIKICAgICAgICBnb0JhY2soKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5iYWNrKC0xKTsKICAgICAgICB9LAoKICAgICAgICB0b0FkZHJlc3NFZGl0UGFnZShpdGVtKSB7CiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdBZGRyZXNzRWRpdCcsICBwYXJhbXM6IHsgYWRkcmVzc0RldGFpbDppdGVtIH0sCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgIH0sCgogICAgICAgIC8vIOenu+mZpOaMh+WumuWcsOWdgOS/oeaBrwogICAgICAgIHJlbW92ZUFkZHJlc3NCb29rQnlJZChlKXsKICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5hZGRyZXNzTGlzdC5maW5kSW5kZXgoYWwgPT4gYWwuaWQgPT0gZSk7CiAgICAgICAgICB0aGlzLmFkZHJlc3NMaXN0LnNwbGljZShpbmRleCwxKTsKCiAgICAgICAgfSwKCiAgICAgICAgLy8g5Y675re75Yqg5Zyw5Z2ACiAgICAgICAgdG9BZGRyZXNzQ3JlYXRlUGFnZSgpIHsKICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy91c2VyL2FkZHJlc3MvZWRpdCd9KQogICAgICAgICAgICB9KQogICAgICAgIH0sCgogICAgICAgIC8vIOiOt+WPluWcsOWdgOewvwogICAgICAgIGFzeW5jIGluaXREYXRhKCkgewogICAgICAgICAgICBpZiAoIWxvY2FsU3RvcmFnZUNhY2hlLmdldChzeXN0ZW0uVE9LRU5fS0VZKSl7CiAgICAgICAgICAgICAgICB0aGlzLiRzc01lc3NhZ2VCb3goIuacqueZu+W9le+8jOaXoOazleaTjeS9nO+8geeCueWHu+ehruWumuWOu+eZu+W9lSIpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Y6755m75b2VCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvbG9naW4iKTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5yZWplY3QoKCk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Y676aaW6aG1CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvIik7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBsb2FkaW5nSW5zdGFuY2UgPSBMb2FkaW5nLnNlcnZpY2UoeyBmdWxsc2NyZWVuOiB0cnVlIH0pOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhdHVzLGNvZGUsbWVzc2FnZSxkYXRhIH0gPSBhd2FpdCB1c2VyQWRkcmVzc0Jvb2tBcGkubGlzdCgpOwogICAgICAgICAgICAgICAgbG9hZGluZ0luc3RhbmNlLmNsb3NlKCk7CiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkcmVzc0xpc3QgPSBkYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgTm90aWZ5KHt0eXBlOiAnd2FybmluZycsIG1lc3NhZ2U6ICfmmoLml6DlnLDlnYDkv6Hmga8nfSk7CiAgICAgICAgICAgICAgICAgICAgLy8g6I635Y+W55So5oi35L+h5oGvCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGxvY2FsU3RvcmFnZUNhY2hlLmdldEJ5QUVTKHN5c3RlbS5TVEFSU0hJTlRfVE9QX1VTRVJfSU5GTyk7CiAgICAgICAgICAgICAgICAgICAgbGV0IHZvID0gewogICAgICAgICAgICAgICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiB1bmRlZmluZWQKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXIpewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHBob25lTnVtYmVyIH0gPSB1c2VyOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGhvbmVOdW1iZXIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdm8ucGhvbmVOdW1iZXIgPSBwaG9uZU51bWJlcjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICcvdXNlci9hZGRyZXNzL2VkaXQnLAogICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogeyBwYXJhbXM6IEpTT04uc3RyaW5naWZ5KHZvKX0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3NUb2FzdChtZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfWNhdGNoIChlKXsKICAgICAgICAgICAgICAgIGxvYWRpbmdJbnN0YW5jZS5jbG9zZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLy8g6K6+572u5Li66buY6K6k5Zyw5Z2ACiAgICAgICAgYXN5bmMgc2V0RGVmYXVsdEFkZHJlc3MoaXRlbSkgewogICAgICAgICAgICBjb25zdCB7IGlkIH0gPSBpdGVtOwogICAgICAgICAgICBpZiAoaWQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhdHVzLGNvZGUsIG1lc3NhZ2UsIGRhdGEgfSA9IGF3YWl0IHVzZXJBZGRyZXNzQm9va0FwaS5yZXZpc2VEZWZhdWx0KGlkKQogICAgICAgICAgICAgICAgaWYgKHN0YXR1cykgewogICAgICAgICAgICAgICAgICAgIC8vIOmBjeWOhuaJvuWHuui/meWxnuaApwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5hZGRyZXNzTGlzdC5maW5kSW5kZXgoYWQgPT4gYWQuaWQgPT09IGlkICk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRyZXNzTGlzdC5tYXAoYWQgPT4gYWRbJ2lzRGVmYXVsdCddID0gMCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRyZXNzTGlzdFtpbmRleF1bJ2lzRGVmYXVsdCddID0gMTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBwcmV2aW91c1BhZ2VVcmw7CiAgICAgICAgICAgICAgICAgICAgaWYodXJsKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnZGV0YWlscycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ09yZGVyRGV0YWlscycsIHBhcmFtczoge2FkZHJlc3NEZXRhaWw6aXRlbSB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihtZXNzYWdlKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLy8g54K55Ye75Zyw5Z2ACiAgICAgICAgaXRlbUNsaWNrKGl0ZW0pIHsKICAgICAgICAgICAgY29uc3QgdXJsID0gcHJldmlvdXNQYWdlVXJsOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtKTsKICAgICAgICAgICAgaWYodXJsKXsKICAgICAgICAgICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJ2RldGFpbHMnKSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ09yZGVyRGV0YWlscycsIC8v5rOo5oSP5L2/55SoIHBhcmFtcyDml7bkuIDlrprkuI3og73kvb/nlKggcGF0aAogICAgICAgICAgICAgICAgICAgICAgICAvLyBxdWVyeTogaXRlbSwKICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7IGFkZHJlc3NEZXRhaWw6aXRlbSB9LAogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcGF0aDogJy91c2VyL2FkZHJlc3MvYm9vaycsIHF1ZXJ5Oml0ZW0gfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy50b0FkZHJlc3NFZGl0UGFnZShpdGVtKTsKICAgICAgICB9CgogICAgfSwKfQo="},{"version":3,"sources":["AddressBook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"AddressBook.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div id=\"address\" class=\"app\">\n\n        <div class=\"divHead\">\n            <div class=\"divTitle\">\n                <i class=\"el-icon-arrow-left\" @click.prevent=\"goBack\"></i>地址管理\n            </div>\n        </div>\n\n        <div class=\"divContent\">\n\n            <div class=\"divItem\"\n                 v-for=\"(item,index) in addressList\"\n                 :key=\"index\"\n                 >\n\n\n                <div @click.stop.prevent=\"itemClick(item)\" >\n                    <!-- 地址-->\n                    <div class=\"divAddress\">\n                        <span :class=\"{ spanCompany:item.label === '公司',spanHome:item.label === '家',spanSchool:item.label === '学校'}\">{{item.label}}</span>\n                        {{item.detail}}\n                    </div>\n\n                    <!-- 用户手机 -->\n                    <div class=\"divUserPhone\">\n                        <span>{{item.consigneeName}}</span>\n                        <span>{{item.sex === '0' ? '女士' : '先生'}}</span>\n                        <span>{{item.phoneNumber}}</span>\n                    </div>\n\n                </div>\n\n                <!--修改-->\n                <img src=\"../assets/images/edit.png\" @click.stop.prevent=\"toAddressEditPage(item)\"/>\n\n                <!--线-->\n                <div class=\"divSplit\"></div>\n\n                <div class=\"divDefault\" >\n                    <img src=\"../assets/images/checked_true.png\" v-if=\"item.isDefault === 1\">\n                    <img src=\"../assets/images/checked_false.png\" @click.stop.prevent=\"setDefaultAddress(item)\" v-else>设为默认地址\n                </div>\n\n            </div>\n        </div>\n\n        <div class=\"divBottom\" @click.stop.prevent=\"toAddressCreatePage\">+ 添加收货地址</div>\n    </div>\n</template>\n\n<script>\n\nimport {Loading} from 'element-ui';\nimport {Notify, Toast} from 'vant';\nimport userAddressBookApi from \"../api/userAddressBookApi\";\nimport localStorageCache from \"../utils/localStorage\";\nimport system from \"../common/system\";\n// 存储上一级路由地址\nlet previousPageUrl = undefined;\nconst PAGE_NAME = '地址簿页';\nexport default {\n    name: \"AddressBook\",\n    data() {\n        return {\n            // 地址列表\n            addressList: [],\n        }\n    },\n    computed: {},\n    created(){\n        console.log(PAGE_NAME+\"创建\");\n        this.initData()\n    },\n    beforeMount() {\n        console.log(PAGE_NAME+\"初始化\");\n    },\n    mounted(){\n        console.log(PAGE_NAME+\"初始化完成\");\n    },\n    beforeDestroy() {\n        console.log(PAGE_NAME+\"销毁前\");\n    },\n    destroyed() {\n        console.log(PAGE_NAME+\"销毁了\");\n    },\n    beforeRouteEnter(to, from, next) {\n        // console.log(to,from);\n        console.log(PAGE_NAME+\"路由器进入\");\n        previousPageUrl = from.fullPath;\n        const routerToParams = to.params;\n        next(vm => {\n            // 检查是否刷新地址,或\n            if (routerToParams){\n                if (routerToParams.flushCahceId){\n                    vm.removeAddressBookById(routerToParams.flushCahceId)\n                }\n            }\n        });\n    },\n    methods: {\n\n        // 返回上一层\n        goBack() {\n            this.$router.back(-1);\n        },\n\n        toAddressEditPage(item) {\n            window.requestAnimationFrame(() => {\n                this.$router.push({\n                    name: 'AddressEdit',  params: { addressDetail:item },\n                })\n            })\n        },\n\n        // 移除指定地址信息\n        removeAddressBookById(e){\n          const index = this.addressList.findIndex(al => al.id == e);\n          this.addressList.splice(index,1);\n\n        },\n\n        // 去添加地址\n        toAddressCreatePage() {\n            window.requestAnimationFrame(() => {\n                this.$router.push({path: '/user/address/edit'})\n            })\n        },\n\n        // 获取地址簿\n        async initData() {\n            if (!localStorageCache.get(system.TOKEN_KEY)){\n                this.$ssMessageBox(\"未登录，无法操作！点击确定去登录\")\n                    .then(()=>{\n                        // 去登录\n                        this.$router.replace(\"/login\");\n                    })\n                    .reject(()=>{\n                        // 去首页\n                        this.$router.replace(\"/\");\n                    })\n                return\n            }\n            let loadingInstance = Loading.service({ fullscreen: true });\n\n            try {\n                const { status,code,message,data } = await userAddressBookApi.list();\n                loadingInstance.close();\n                if (status) {\n                    if (data){\n                        if (data.length > 0){\n                            this.addressList = data;\n                            return\n                        }\n                    }\n                    Notify({type: 'warning', message: '暂无地址信息'});\n                    // 获取用户信息\n                    const user = localStorageCache.getByAES(system.STARSHINT_TOP_USER_INFO);\n                    let vo = {\n                        id: '',\n                        phoneNumber: undefined\n                    }\n                    if (user){\n                        const { phoneNumber } = user;\n                        if (phoneNumber){\n                            vo.phoneNumber = phoneNumber;\n                        }\n                    }\n                    this.$router.push({\n                        path: '/user/address/edit',\n                        query: { params: JSON.stringify(vo)}\n                    });\n                } else {\n                    this.$ssToast(message);\n                }\n            }catch (e){\n                loadingInstance.close();\n            }\n        },\n\n        // 设置为默认地址\n        async setDefaultAddress(item) {\n            const { id } = item;\n            if (id) {\n                const { status,code, message, data } = await userAddressBookApi.reviseDefault(id)\n                if (status) {\n                    // 遍历找出这属性\n                    const index = this.addressList.findIndex(ad => ad.id === id );\n                    this.addressList.map(ad => ad['isDefault'] = 0);\n                    this.addressList[index]['isDefault'] = 1;\n                    const url = previousPageUrl;\n                    if(url){\n                        if (url.includes('details')) {\n                            this.$router.replace({\n                                name: 'OrderDetails', params: {addressDetail:item },\n                            })\n                        }\n                    }\n                } else {\n                    this.$message.error(message)\n                }\n            }\n        },\n\n        // 点击地址\n        itemClick(item) {\n            const url = previousPageUrl;\n            // console.log(item);\n            if(url){\n                if (url.includes('details')) {\n                    this.$router.replace({\n                        name: 'OrderDetails', //注意使用 params 时一定不能使用 path\n                        // query: item,\n                        params: { addressDetail:item },\n                    })\n                    return;\n                    // this.$router.replace({ path: '/user/address/book', query:item });\n                }\n            }\n            this.toAddressEditPage(item);\n        }\n\n    },\n}\n</script>\n\n<style scoped>\n#address .divHead {\n    width: 100%;\n    /*height: 88rem;*/\n    height: 50rem;\n    opacity: 1;\n    background: #333333;\n    position: relative;\n}\n\n#address .divHead .divTitle {\n    font-size: 18rem;\n    font-weight: 500;\n    text-align: center;\n    color: #ffffff;\n    line-height: 25rem;\n    letter-spacing: 0;\n    position: absolute;\n    bottom: 13rem;\n    width: 100%;\n}\n\n#address .divHead .divTitle i {\n    position: absolute;\n    left: 16rem;\n    top: 50%;\n    transform: translate(0, -50%);\n}\n\n#address .divContent {\n    height: calc(100vh - 157rem);\n    overflow: auto;\n}\n\n#address .divContent .divItem {\n    height: 128rem;\n    opacity: 1;\n    background: #ffffff;\n    border-radius: 6rem;\n    margin-top: 10rem;\n    margin-left: 10rem;\n    margin-right: 9rem;\n    padding-left: 12rem;\n    position: relative;\n}\n\n#address .divContent .divItem > img {\n    width: 16rem;\n    height: 16rem;\n    position: absolute;\n    /*top: 40rem;*/\n    top: 36rem;\n    right: 24rem;\n    padding: 10rem;\n}\n\n#address .divContent .divItem .divDefault img {\n    width: 16rem;\n    height: 16rem;\n    opacity: 1;\n}\n\n#address .divContent .divItem .divAddress {\n    font-size: 14rem;\n    font-weight: 400;\n    text-align: left;\n    color: #333333;\n    line-height: 20rem;\n    letter-spacing: 0;\n    padding-top: 21rem;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    width: 280rem;\n}\n\n#address .divContent .divItem .divAddress span {\n    width: 34rem;\n    height: 20rem;\n    opacity: 1;\n    font-size: 12rem;\n    display: inline-block;\n    text-align: center;\n    margin-right: 4rem;\n    margin-bottom: 10rem;\n    background-color: #ffc200;\n}\n\n#address .divContent .divItem .divUserPhone span {\n    height: 20rem;\n    opacity: 1;\n    font-size: 14rem;\n    font-weight: 400;\n    text-align: left;\n    /*color: #999999;*/\n    color: #333333;\n    line-height: 20rem;\n    letter-spacing: 0;\n    margin-right: 10rem;\n}\n\n#address .divContent .divItem .divUserPhone span:first-child {\n    margin-right: 2rem;\n}\n\n#address .divContent .divItem .divAddress .spanCompany {\n    background-color: #e1f1fe;\n}\n\n#address .divContent .divItem .divAddress .spanHome {\n    /*background: #fef8e7;*/\n    background: #ffc200;\n}\n\n#address .divContent .divItem .divAddress .spanSchool {\n    background: #e7fef8;\n}\n\n#address .divContent .divItem .divSplit {\n    height: 1px;\n    opacity: 1;\n    background: #efefef;\n    border: 0;\n    margin-top: 16rem;\n    margin-bottom: 10rem;\n    margin-right: 10rem;\n}\n\n#address .divContent .divItem .divDefault {\n    height: 18rem;\n    opacity: 1;\n    font-size: 13rem;\n    font-weight: 400;\n    text-align: left;\n    color: #333333;\n    line-height: 18rem;\n    letter-spacing: 0;\n}\n\n#address .divContent .divItem .divDefault img {\n    height: 18rem;\n    width: 18rem;\n    margin-right: 5rem;\n    vertical-align: bottom;\n}\n\n#address .divBottom {\n    height: 36rem;\n    opacity: 1;\n    background: #ffc200;\n    border-radius: 18rem;\n    opacity: 1;\n    font-size: 15rem;\n    font-weight: 500;\n    text-align: center;\n    color: #333333;\n    line-height: 36rem;\n    letter-spacing: 0;\n    position: absolute;\n    bottom: 23rem;\n    left: 50%;\n    transform: translate(-50%, 0);\n    width: 334rem;\n}\n\n</style>"]}]}