{"remainingRequest":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\src\\views\\OrderDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\src\\views\\OrderDetails.vue","mtime":1659793824000},{"path":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7TG9hZGluZ30gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCB7Tm90aWZ5LCBUb2FzdH0gZnJvbSAndmFudCc7CmltcG9ydCBkYXRlRm9tYXRVdGlscyBmcm9tICIuLi91dGlscy9kYXRlRm9tYXRVdGlscyI7CmltcG9ydCByYW5kb21OdW1iZXJVdGlscyBmcm9tICIuLi91dGlscy9yYW5kb21OdW1iZXJVdGlscyI7CmltcG9ydCBvcmRlckFwaSBmcm9tICIuLi9hcGkvb3JkZXJBcGkiOwppbXBvcnQgb3JkZXJQYXltZW50QXBpIGZyb20gIi4uL2FwaS9vcmRlclBheW1lbnRBcGkiOwppbXBvcnQgc2hvcHBpbmdDYXJ0QXBpIGZyb20gIi4uL2FwaS9zaG9wcGluZ0NhcnRBcGkiOwppbXBvcnQgdXNlckFkZHJlc3NCb29rQXBpIGZyb20gIi4uL2FwaS91c2VyQWRkcmVzc0Jvb2tBcGkiOwppbXBvcnQgU2hvcHBpbmdDYXJ0QnV0dG9uQmFyIGZyb20gIkAvY29tcG9uZW50cy9TaG9wcGluZ0NhcnRCdXR0b25CYXIiOwppbXBvcnQgcGF5bWVudEFwaSBmcm9tICJAL2FwaS9wYXltZW50QXBpIjsKCmNvbnN0IFBBR0VfTkFNRSA9ICforqLljZXor6bnu4bpobUnOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiT3JkZXJEZXRhaWxzIiwKICAgIGNvbXBvbmVudHM6IHsgIFNob3BwaW5nQ2FydEJ1dHRvbkJhciB9LAogICAgZGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGFkZHJlc3M6ewogICAgICAgICAgICAgICAgcGhvbmU6JycsLy/miYvmnLrlj7cKICAgICAgICAgICAgICAgIGNvbnNpZ25lZTonJywvL+Wnk+WQjQogICAgICAgICAgICAgICAgZGV0YWlsOicnLC8v6K+m57uG5Zyw5Z2ACiAgICAgICAgICAgICAgICBzZXg6JzEnLAogICAgICAgICAgICAgICAgaWQ6dW5kZWZpbmVkCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZpbmlzaFRpbWU6JycsLy/pgIHovr7ml7bpl7QKICAgICAgICAgICAgY2FydERhdGE6W10sCiAgICAgICAgICAgIG5vdGU6JycsIC8v5aSH5rOo5L+h5oGvCiAgICAgICAgICAgIHN1Ym1pdFVVSUQ6IHVuZGVmaW5lZCwvLyDluYLnrYnmgKcKICAgICAgICAgICAgcHJpY2VEZXRhaWxzOltdLC8vIOW9k+WJjeespuWQiOS9v+eUqOS8mOaDoOWIuOeahOS/oeaBrwogICAgICAgICAgICBzaG93Q291cG9uUG9wdXA6IGZhbHNlLAogICAgICAgICAgICAvLyDov5DotLkKICAgICAgICAgICAgZnJlaWdodFByaWNlOiAwLAogICAgICAgICAgICAvLyDkvJjmg6DliLjliJfooagKICAgICAgICAgICAgY291cG9uVm9zOiB1bmRlZmluZWQsCiAgICAgICAgICAgIC8vIOW9k+WJjemAieS4reeahOS8mOaDoOWIuAogICAgICAgICAgICBjb3Vwb246IHsKICAgICAgICAgICAgICAgIC8vIOS9v+eUqOmXqOanmwogICAgICAgICAgICAgICAgdGhyZXNob2xkOiAwLAogICAgICAgICAgICAgICAgLy8g5LyY5oOg6Z2i6aKdCiAgICAgICAgICAgICAgICBwcmljZTogMCwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8g5b2T5YmN6YCJ5Lit5LyY5oOg5Yi455qE57Si5byVLCAtMSDlhajpg6jpg73kuI3pgIkKICAgICAgICAgICAgY2hvc2VuQ291cG9uOiAtMSwKICAgICAgICAgICAgLy8g5Y+v55So5LyY5oOg5Yi45YiX6KGoCiAgICAgICAgICAgIGNvdXBvbnM6IFtdLAogICAgICAgICAgICAvLyDkuI3lj6/nlKjnlKjnmoTkvJjmg6DliLjliJfooagKICAgICAgICAgICAgZGlzYWJsZWRDb3Vwb25zOiBbXSwKICAgICAgICAgICAgLy8g5qC55o2u5Lu35qC86Ieq5Yqo6YCJ5oup56ym5ZCI6Zeo5qeb5bm25LiU6Z2i6aKd5pyA5aSn55qE5LyY5oOg5Yi4CiAgICAgICAgICAgIGF1dG9TZWxlY3RDb3Vwb24gOiB0cnVlLAogICAgICAgICAgICAvLyDllYblk4Hljp/ku7cKICAgICAgICAgICAgb3JpZ2luYWxQcmljZTogMCwKICAgICAgICAgICAgLy8g5o+Q5Lqk5oyJ6ZKu5Yqg6L2954q25oCB5byA5ZCvCiAgICAgICAgICAgIHN1Ym1pdEJ1dHRvbkxvYWRpbmdGbGFnOiBmYWxzZSwKICAgICAgICAgICAgLy8g5o+Q5Lqk5LmL5ZCO55Sf5oiQ55qE5Li76ZSuCiAgICAgICAgICAgIHN1Ym1pdE9mUGF5T3JkZXJJZDogdW5kZWZpbmVkLAogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDp7CgogICAgICAgIGdvb2RzTnVtKCl7CiAgICAgICAgICAgIGxldCBudW0gPSAwCiAgICAgICAgICAgIGlmICh0aGlzLmNhcnREYXRhKXsKICAgICAgICAgICAgICAgIGlmKHRoaXMuY2FydERhdGEubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJ0RGF0YS5mb3JFYWNoKGl0ZW09PnsKICAgICAgICAgICAgICAgICAgICAgICAgbnVtICs9IGl0ZW0uYW1vdW50OwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG51bSA+PSA5OT8nOTkrJzpudW07CiAgICAgICAgfSwKCiAgICAgICAgZ29vZHNQcmljZSgpewogICAgICAgICAgICBsZXQgcHJpY2UgPSAwCiAgICAgICAgICAgIHRoaXMub3JpZ2luYWxQcmljZSA9IDA7CiAgICAgICAgICAgIHRoaXMuZnJlaWdodFByaWNlID0gODsKICAgICAgICAgICAgaWYgKHRoaXMuY2FydERhdGEpewogICAgICAgICAgICAgICAgaWYodGhpcy5jYXJ0RGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJ0RGF0YS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICBwcmljZSArPSAoKGl0ZW0ucHJpY2UpICogaXRlbS5hbW91bnQpCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luYWxQcmljZSA9IHByaWNlOwogICAgICAgICAgICAgICAgLy8g5qOA5p+l6L+Q6LS5CiAgICAgICAgICAgICAgICB0aGlzLmZyZWlnaHRQcmljZSA9IHByaWNlID49IDY2ID8gMCA6IDg7CiAgICAgICAgICAgICAgICAvLyDliJ3lp4vljJYKICAgICAgICAgICAgICAgIHRoaXMuY291cG9ucyA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlZENvdXBvbnMgPSBbXTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvdXBvblZvcyl7CiAgICAgICAgICAgICAgICAgICAgLy8g5b6q546v6YGN5Y6G5qOA5p+l5piv5ZCm56ym5ZCI6Zeo5qebCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3Vwb25Wb3MuZm9yRWFjaChjcD0+ewogICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpzlvZPliY3lvqrnjq/nmoTkvJjmg6DliLjpl6jmp5vlpKfkuo7mgLvku7flsLHliZTpmaQKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNwLnRocmVzaG9sZCA+IHByaWNlKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwWydyZWFzb24nXSA9ICflvZPliY3ph5Hpop3kuI3mu6Hkvb/nlKjpl6jmp5snOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlZENvdXBvbnMucHVzaChjcCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5re75Yqg5Yiw5Y+v5Lul55So55qE5LyY5oOg5Yi45LitCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdXBvbnMucHVzaChjcCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC8vIOajgOafpeespuWQiOa2iOi0uemXqOanm+S4reacgOWkp+mdoumineeahOS8mOaDoOWIuAogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuY291cG9ucyl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY291cG9ucy5mb3JFYWNoKChjcCxpbmRleCk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWFs+mXreiHquWKqOmAieaLqeWIuOS5i+WQjiwg55So5oi35YeP5bCR5ZWG5ZOB5a+86Ie05LiN5ruh6Laz5LyY5oOg5Yi46Zeo5qeb5YaN5qyh5byA5ZCv6Ieq5Yqo6YCJ5Yi4CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb3Vwb24pIGlmICh0aGlzLmNvdXBvbi50aHJlc2hvbGQgPiBwcmljZSkgaWYgKCF0aGlzLmF1dG9TZWxlY3RDb3Vwb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dG9TZWxlY3RDb3Vwb24gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY291cG9uLnByaWNlID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOiHquWKqOmAieWIuAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYXV0b1NlbGVjdENvdXBvbil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuS7t+agvD0+IixwcmljZSwgdGhpcy5jb3Vwb24sIuS8mOaDoOWIuOmXqOanmz0+IiwgY3AudGhyZXNob2xkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmr5TovoPpnaLpop3lubbkuqTmjaIsIOagoemqjOaYr+WQpua7oei2s+mXqOanmwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcC5wcmljZSA+IHRoaXMuY291cG9uLnByaWNlICYmIHByaWNlID49IGNwLnRocmVzaG9sZCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY291cG9uID0gY3A7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hvc2VuQ291cG9uID0gaW5kZXg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY291cG9uKSBpZiAodGhpcy5jb3Vwb24udGhyZXNob2xkID4gcHJpY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldEFsbCgpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdvb2RzUHJpY2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyZWlnaHRQcmljZSkgcHJpY2UgKz0gdGhpcy5mcmVpZ2h0UHJpY2U7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY291cG9uKSBwcmljZSA9ICggcHJpY2UgLSB0aGlzLmNvdXBvbi5wcmljZSApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBwcmljZTsKICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICAvLyDkvJjmg6DliLjliJfooagKICAgICAgICBjb3Vwb25Wb3ModmFsKXsKICAgICAgICAgICAgaWYgKHZhbCl7CiAgICAgICAgICAgICAgICB2YWwuZm9yRWFjaChjcD0+ewogICAgICAgICAgICAgICAgICAgIGNwWydhdmFpbGFibGUnXSA9IGNwLmlkOwogICAgICAgICAgICAgICAgICAgIGNwWydjb25kaXRpb24nXSA9ICfmu6EnKyBjcC50aHJlc2hvbGQgKyAn5YWD5Y+v55SoJzsKICAgICAgICAgICAgICAgICAgICBjcFsncmVhc29uJ10gPSAnJzsKICAgICAgICAgICAgICAgICAgICBjcFsnc3RhcnRBdCddID0gY3Auc3RhcnRUaW1lOwogICAgICAgICAgICAgICAgICAgIGNwWydlbmRBdCddID0gY3AuZW5kVGltZTsKICAgICAgICAgICAgICAgICAgICBjcFsndmFsdWUnXSA9IGNwLnByaWNlOwogICAgICAgICAgICAgICAgICAgIGNwWyduYW1lJ10gPSBjcC5jb3Vwb25OYW1lOwogICAgICAgICAgICAgICAgICAgIGNwWyd2YWx1ZURlc2MnXSA9IGNwLnByaWNlOwogICAgICAgICAgICAgICAgICAgIGNwWyd1bml0RGVzYyddID0gJ+WFgyc7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvLyDkuqflk4HliJfooagKICAgICAgICBjYXJ0RGF0YTp7CiAgICAgICAgICAgIC8vIOa3seW6puebkeWQrAogICAgICAgICAgICBkZWVwOiB0cnVlLAogICAgICAgICAgICBoYW5kbGVyKHZhbDEsdmFsMil7CiAgICAgICAgICAgICAgICAvLyDllYblk4HliJfooagKICAgICAgICAgICAgICAgIGlmKCB2YWwxICYmIHZhbDEubGVuZ3RoID4gMCkgdmFsMS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1bJ2Rpc2hGbGF2b3JMaXN0J10gPSBpdGVtLnZhbHVlLnNwbGl0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBhY3RpdmF0ZWQoKXsKICAgICAgICBjb25zb2xlLmxvZyhQQUdFX05BTUUsIue8k+WtmOa/gOa0uyIpOwogICAgfSwKICAgIGRlYWN0aXZhdGVkKCkgewogICAgICAgIGNvbnNvbGUuaW5mbyhQQUdFX05BTUUsIue8k+WtmOaaguWBnCIpCiAgICB9LAogICAgY3JlYXRlZCgpewogICAgICAgIGNvbnNvbGUubG9nKFBBR0VfTkFNRSwi5Yib5bu6Iik7CiAgICAgICAgLy8gdGhpcy5pbml0RGF0YSgpCiAgICB9LAogICAgYmVmb3JlTW91bnQoKSB7CiAgICAgICAgY29uc29sZS5sb2coUEFHRV9OQU1FLCLliJ3lp4vljJYiKTsKICAgIH0sCiAgICBtb3VudGVkKCl7CiAgICAgICAgY29uc29sZS5sb2coUEFHRV9OQU1FLCLliJ3lp4vljJblrozmiJAiKTsKICAgIH0sCiAgICBiZWZvcmVEZXN0cm95KCkgewogICAgICAgIGNvbnNvbGUubG9nKFBBR0VfTkFNRSwi6ZSA5q+B5YmNIik7CiAgICB9LAogICAgZGVzdHJveWVkKCkgewogICAgICAgIGNvbnNvbGUubG9nKFBBR0VfTkFNRSwi6ZSA5q+B5LqGIik7CiAgICB9LAogICAgYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgICAgIGNvbnNvbGUubG9nKFBBR0VfTkFNRSwi57uE5Lu25a+86Iiq5a6I5Y2r6Lev55Sx5Zmo6L+b5YWl57uE5Lu25LmL5YmNIik7CiAgICAgICAgY29uc3QgZnVsbFBhdGggID0gIGZyb20uZnVsbFBhdGg7CiAgICAgICAgbGV0IHRlbXBBZGRyZXNzSXRlbSA9IHRvLnBhcmFtczsKICAgICAgICBuZXh0KHZtID0+IHsKICAgICAgICAgICAgaWYgKHRlbXBBZGRyZXNzSXRlbSl7CiAgICAgICAgICAgICAgICBpZiAodGVtcEFkZHJlc3NJdGVtLmFkZHJlc3NEZXRhaWwpewogICAgICAgICAgICAgICAgICAgIGlmKHRlbXBBZGRyZXNzSXRlbS5hZGRyZXNzRGV0YWlsLnBob25lTnVtYmVyKSB2bS5fZGF0YS5hZGRyZXNzID0gdGVtcEFkZHJlc3NJdGVtLmFkZHJlc3NEZXRhaWw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5aaC5p6c5p2l6Ieq6aaW6aG15bCx6YeN5paw6I635Y+W5LiA5LiL5ZWG5ZOB5L+h5oGvCiAgICAgICAgICAgIGlmKGZ1bGxQYXRoKXsKICAgICAgICAgICAgICAgIGlmIChmdWxsUGF0aC5pbmNsdWRlcygnL2hvbWUnKSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmnaXoh6rpppbpobXlvLrliLbliLfmlrDmlbDmja4iKQogICAgICAgICAgICAgICAgICAgIHZtLmluaXREYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgLy8gdm0uZ2VuZXJhdGVVVUlEKCk7Ly8gdXVpZCDkuIDotbfliLfmlrAKICAgICAgICAgICAgICAgICAgICAvLyB2bS5sb2FkRGVmYXVsdEFkZHJlc3NEZXRhaWxzKCk7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICBpZiAoIXZtLl9kYXRhLmNhcnREYXRhIHx8IHZtLl9kYXRhLmNhcnREYXRhLmxlbmd0aCA9PT0gMCkgdm0uZ29CYWNrKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICBiZWZvcmVSb3V0ZUxlYXZlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICAgICAgY29uc29sZS5sb2coUEFHRV9OQU1FLCLnu4Tku7blr7zoiKrlrojljavot6/nlLHlmajnprvlvIAiKTsKICAgICAgICBuZXh0KCk7CiAgICB9LAogICAgbWV0aG9kczp7CgogICAgICAgIC8qKumHjee9ruaVsOaNriovCiAgICAgICAgcmVzZXRBbGwoKXsKICAgICAgICAgICAgdGhpcy5zdWJtaXRPZlBheU9yZGVySWQgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIHRoaXMub3JpZ2luYWxQcmljZSA9IDA7CiAgICAgICAgICAgIC8vIOaPkOS6pOaMiemSruaYvuekuuWKoOi9vQogICAgICAgICAgICB0aGlzLnN1Ym1pdEJ1dHRvbkxvYWRpbmdGbGFnID0gZmFsc2U7CiAgICAgICAgICAgIC8vIOiHquWKqOmAieaLqeS8mOaDoOWIuAogICAgICAgICAgICB0aGlzLmF1dG9TZWxlY3RDb3Vwb24gPSB0cnVlOwogICAgICAgICAgICAvLyDpu5jorqTpgInkuK3nmoTkvJjmg6DliLjkuIvmoIcKICAgICAgICAgICAgdGhpcy5jaG9zZW5Db3Vwb24gPSAtMTsKICAgICAgICAgICAgLy8g5b2T5YmN6YCJ5Lit55qE5LyY5oOg5Yi4CiAgICAgICAgICAgIHRoaXMuY291cG9uID0gIHsgdGhyZXNob2xkOiAwLCBwcmljZTogMCx9OwogICAgICAgIH0sCgogICAgICAgIGdvQmFjaygpewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0sCgogICAgICAgIC8vIOWKoOi9veiuouWNleiBmuWQiOS/oeaBrywg6LSt54mp6L2m5pWw5o2uLCDlnLDlnYDkv6Hmga8sIOS8mOaDoOWIuOmbhuWQiAogICAgICAgIGFzeW5jIGluaXREYXRhKCl7CiAgICAgICAgICAgIHRoaXMucmVzZXRBbGwoKTsKICAgICAgICAgICAgbGV0IGxvYWRpbmdJbnN0YW5jZSA9IExvYWRpbmcuc2VydmljZSh7IGZ1bGxzY3JlZW46IHRydWUgfSk7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCB7IHN0YXR1cyxkYXRhIH0gPSBhd2FpdCBvcmRlckFwaS5idWlsZEJpbGxEYXRhKCk7CiAgICAgICAgICAgICAgICBpZihzdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7dXNlckFkZHJlc3NCb29rVm8sIHNob3BwaW5nQ2FydFZvcywgY291cG9uVm9zfSA9IGRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOS8mOaDoOWIuAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291cG9uVm9zKSB0aGlzLmNvdXBvblZvcyA9IGNvdXBvblZvczsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g6LSt54mp6L2mCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG9wcGluZ0NhcnRWb3MpIHRoaXMuY2FydERhdGEgPSBzaG9wcGluZ0NhcnRWb3M7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWcsOWdgOewvwogICAgICAgICAgICAgICAgICAgICAgICBpZih1c2VyQWRkcmVzc0Jvb2tWbyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZHJlc3MgPSB1c2VyQWRkcmVzc0Jvb2tWbzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RmluaXNoVGltZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICflt7Lmgqjoh6rliqjpgInmi6npu5jorqTmlLbotKflnLDlnYAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vdGlmeSh7dHlwZTogJ3dhcm5pbmcnLCBtZXNzYWdlOiBuYW1lICsgJ+aCqOW9k+WJjeaXoOm7mOiupOWcsOWdgCd9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9BZGRyZXNzUGFnZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdJbnN0YW5jZS5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1jYXRjaCAoZSl7fQogICAgICAgICAgICBsb2FkaW5nSW5zdGFuY2UuY2xvc2UoKTsKICAgICAgICAgICAgTm90aWZ5KHt0eXBlOiAnd2FybmluZycsIG1lc3NhZ2U6ICflvZPliY3ml6Dkuqflk4Hnu5PnrpcnfSk7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvIik7CiAgICAgICAgfSwKCiAgICAgICAgLy8g54K55Ye75LyY5oOg5Yi4CiAgICAgICAgb25DaGFuZ2UoaW5kZXgpIHsKICAgICAgICAgICAgLy8g5omL5Yqo6YCJ5Yi45bCx5aSx5pWI6LCD55So6Ieq5Yqo5Yi4CiAgICAgICAgICAgIHRoaXMuYXV0b1NlbGVjdENvdXBvbiA9IGZhbHNlOwogICAgICAgICAgICAvLyDlhbPpl63kvJjmg6DliLjliJfooagKICAgICAgICAgICAgdGhpcy5zaG93Q291cG9uUG9wdXAgPSBmYWxzZTsKICAgICAgICAgICAgLy8g5b2T5YmN6YCJ5Lit55qE5LyY5oOg5Yi45LiL5qCHCiAgICAgICAgICAgIHRoaXMuY2hvc2VuQ291cG9uID0gaW5kZXg7CiAgICAgICAgICAgIC8vIOW9k+WJjemAieaLqeeahOS8mOaDoOWIuOWvueixoQogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB0aGlzLmNvdXBvbiA9IHRoaXMuY291cG9uc1tpbmRleF07CiAgICAgICAgfSwKCgoKICAgICAgICAvLyDnlJ/miJAgdXVpZAogICAgICAgIGdlbmVyYXRlVVVJRCgpewogICAgICAgICAgICB0aGlzLnN1Ym1pdFVVSUQgPSBkYXRlRm9tYXRVdGlscy5kYXRlRm9ybWF0KG5ldyBEYXRlKCksInl5eXlNTWRkaGhtbXNzIikrIiIrcmFuZG9tTnVtYmVyVXRpbHMudXVpZCg1LDEwKS50b1N0cmluZygpOwogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN1Ym1pdFVVSUQsdGhpcy5zdWJtaXRVVUlELmxlbmd0aCk7CiAgICAgICAgfSwKCiAgICAgICAgLy/ojrflj5bpgIHovr7ml7bpl7QKICAgICAgICBnZXRGaW5pc2hUaW1lKCl7CiAgICAgICAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpCiAgICAgICAgICAgIGxldCBob3VyID0gbm93LmdldEhvdXJzKCkgKzEKICAgICAgICAgICAgbGV0IG1pbnV0ZSA9IG5vdy5nZXRNaW51dGVzKCkKICAgICAgICAgICAgaWYoaG91ci50b1N0cmluZygpLmxlbmd0aCA8Mil7CiAgICAgICAgICAgICAgICBob3VyID0gJzAnICsgaG91cgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKG1pbnV0ZS50b1N0cmluZygpLmxlbmd0aCA8Mil7CiAgICAgICAgICAgICAgICBtaW51dGUgPSAnMCcgKyBtaW51dGUKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmZpbmlzaFRpbWUgPSBob3VyICsgJzonICsgbWludXRlCiAgICAgICAgfSwKCiAgICAgICAgLy8g5Y675re75Yqg5Zyw5Z2A6aG16Z2iCiAgICAgICAgdG9BZGRyZXNzUGFnZSgpewogICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57CiAgICAgICAgICAgICAgICAvL+WAvOS4unRydWXpnIDopoHnvJPlrZjvvIzkuLpmYWxzZeS4jemcgOimgee8k+WtmCgiIik7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3VzZXIvYWRkcmVzcy9ib29rJyk7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgLy8g6I635Y+W5Zyw5Z2ACiAgICAgICAgYXN5bmMgbG9hZERlZmF1bHRBZGRyZXNzRGV0YWlscygpewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgeyBzdGF0dXMsbWVzc2FnZSxkYXRhIH0gPSBhd2FpdCAgdXNlckFkZHJlc3NCb29rQXBpLmdldERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGlmIChzdGF0dXMpewogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRyZXNzID0gZGF0YTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9BZGRyZXNzUGFnZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIE5vdGlmeSgi6I635Y+W5Zyw5Z2A5aSx6LSlOiIgKyBtZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfWNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBOb3RpZnkoZS5tZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8vIOiOt+WPlui0reeJqei9puaVsOaNrgogICAgICAgIGFzeW5jIGdldENhcnREYXRhKCl7CiAgICAgICAgICAgIGNvbnN0IHtzdGF0dXMsIG1lc3NhZ2UsIGRhdGF9ID0gYXdhaXQgc2hvcHBpbmdDYXJ0QXBpLmxpc3QoKTsKICAgICAgICAgICAgaWYoc3RhdHVzKXsKICAgICAgICAgICAgICAgIGlmIChkYXRhKXsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJ0RGF0YSA9IGRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuJHNzVG9hc3QoJ+W9k+WJjeaXoOS6p+WTgee7k+eulycpOwogICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+ewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvIik7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuJHNzVG9hc3QobWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvLyDmj5DkuqTorqLljZUKICAgICAgICBhc3luYyBnb1RvUGF5U3VjY2VzcygpewogICAgICAgICAgICBpZiAoIXRoaXMuYWRkcmVzcyl7CiAgICAgICAgICAgICAgICBOb3RpZnkoIueUqOaIt+WcsOWdgOS/oeaBr+S4jeWtmOWcqCIpOwogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuc3VibWl0QnV0dG9uTG9hZGluZ0ZsYWcgPSB0cnVlOwogICAgICAgICAgICAvLyDmo4Dmn6XmmK/lkKbmj5DkuqTmiJDlip/kuoYKICAgICAgICAgICAgaWYgKHRoaXMuc3VibWl0T2ZQYXlPcmRlcklkKXsKICAgICAgICAgICAgICAgIHRoaXMucGF5T3JkZXIodGhpcy5zdWJtaXRPZlBheU9yZGVySWQpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIGxldCBsb2FkaW5nSW5zdGFuY2UgPSBMb2FkaW5nLnNlcnZpY2UoeyBmdWxsc2NyZWVuOiB0cnVlIH0pOwogICAgICAgICAgICAvLyDop6PmnoTlnLDlnYDnsL8KICAgICAgICAgICAgY29uc3QgeyBjb25zaWduZWVOYW1lLCBwaG9uZU51bWJlciwgZGV0YWlsLCBzZXgsIGxhYmVsIH0gPSB0aGlzLmFkZHJlc3M7CiAgICAgICAgICAgIC8vIOino+aehOS8mOaDoOWIuAogICAgICAgICAgICBsZXQgdm8gPSB7CiAgICAgICAgICAgICAgICAvKiog5pS26LSn5Lq65aeT5ZCNICovCiAgICAgICAgICAgICAgICBjb25zaWduZWVOYW1lOmNvbnNpZ25lZU5hbWUsCiAgICAgICAgICAgICAgICAvKiog5omL5py65Y+3ICovCiAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjpwaG9uZU51bWJlciwKICAgICAgICAgICAgICAgIC8qKiDor6bnu4blnLDlnYAgKi8KICAgICAgICAgICAgICAgIGRldGFpbDpkZXRhaWwsCiAgICAgICAgICAgICAgICAvKiog5oCn5YirLDDlpbMsMeeUtyAqLwogICAgICAgICAgICAgICAgc2V4OnNleCwKICAgICAgICAgICAgICAgIC8qKiDmoIfnrb4sMOm7mOiupCwx5a62LDLlrabmoKEsM+WFrOWPuCw05YW25LuWKi8KICAgICAgICAgICAgICAgIGxhYmVsOiBsYWJlbCwKICAgICAgICAgICAgICAgIC8qKiDnlKjmiLflpIfms6ggKi8KICAgICAgICAgICAgICAgIHJlbWFyazogdGhpcy5ub3RlLAogICAgICAgICAgICAgICAgLyoqIOWcsOWdgOe7keWumueahOS4u+mUriAqLwogICAgICAgICAgICAgICAgYWRkcmVzc0Jvb2tJZDogdGhpcy5hZGRyZXNzLmlkLAogICAgICAgICAgICAgICAgLy/ljp/mgLvku7cKICAgICAgICAgICAgICAgIG9yaWdpbmFsUHJpY2U6IHRoaXMub3JpZ2luYWxQcmljZSwKICAgICAgICAgICAgICAgIC8qKiDliY3nq6/lrp7pmYXku5jku7fmoLwgKi8KICAgICAgICAgICAgICAgIGJpbGxQcmljZTogdGhpcy5nb29kc1ByaWNlLAogICAgICAgICAgICAgICAgLy8g6L+Q6LS5CiAgICAgICAgICAgICAgICBmcmVpZ2h0UHJpY2U6dGhpcy5mcmVpZ2h0UHJpY2UsCiAgICAgICAgICAgICAgICAvLyDkuqflk4HmlbDph48KICAgICAgICAgICAgICAgIHByb2R1Y3RUb3RhbE51bWJlcjp0aGlzLmdvb2RzTnVtLAogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodGhpcy5jb3Vwb24pewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB7aWQsIHByaWNlfSA9IHRoaXMuY291cG9uOwogICAgICAgICAgICAgICAgICAgIHZvWydjb3Vwb25JZCddID0gaWQ7CiAgICAgICAgICAgICAgICAgICAgdm9bJ2NvdXBvblByaWNlJ10gPSBwcmljZTsKICAgICAgICAgICAgICAgIH1jYXRjaCAoZSl7fQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvLyDlj5HotbforqLljZXnlJ/miJAKICAgICAgICAgICAgICAgIGNvbnN0IHtzdGF0dXMsIG1lc3NhZ2UsIGRhdGF9ID0gYXdhaXQgb3JkZXJQYXltZW50QXBpLnN1Ym1pdCh2byk7CiAgICAgICAgICAgICAgICBpZihzdGF0dXMpewogICAgICAgICAgICAgICAgICAgIC8vIOaPkOS6pOaIkOWKnywg5ouJ6LW35pSv5LuYCiAgICAgICAgICAgICAgICAgICAgVG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5o+Q5Lqk5oiQ5Yqf77yM5q2j5Zyo5ouJ6LW35pSv5LuYJywKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20nLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0T2ZQYXlPcmRlcklkID0gZGF0YTsKICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBheU9yZGVyKGRhdGEpOwogICAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgICAgIFRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+aPkOS6pOWksei0pXt9JyArIG1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tJywKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfWNhdGNoIChlKSB7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5zdWJtaXRCdXR0b25Mb2FkaW5nRmxhZyA9IGZhbHNlOwogICAgICAgICAgICAvLyBsb2FkaW5nSW5zdGFuY2UuY2xvc2UoKTsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7IG1lc3NhZ2U6IG1lc3NhZ2UsIHR5cGU6ICd3YXJuaW5nJ30pOwogICAgICAgIH0sCgogICAgICAgIGFzeW5jIHBheU9yZGVyKG9yZGVySWQpewogICAgICAgICAgICBpZiAoIW9yZGVySWQpIHsKICAgICAgICAgICAgICAgIE5vdGlmeSgi6K6i5Y2V5Y+35LiN5a2Y5ZyoIik7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgaWQgPSBvcmRlcklkICsgJyc7CiAgICAgICAgICAgIC8vIOi/memHjOWIpOaWreWvvOiHtOaVsOaNruW8guW4uAogICAgICAgICAgICBpZiAob3JkZXJJZCA9PT0gJy0xJykgewogICAgICAgICAgICAgICAgLy8g5o+Q56S65aSx6LSlCiAgICAgICAgICAgICAgICBOb3RpZnkoIuaLiei1t+aUr+S7mOWksei0pSIpOwogICAgICAgICAgICAgICAgLy8g6Lez6L2s5Yiw6K6i5Y2V6aG16Z2iCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL29yZGVyIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgLy8g5Y+R6LW35pSv5LuY6K+35rGCCiAgICAgICAgICAgICAgICBjb25zdCB7c3RhdHVzLGNvZGUsIG1lc3NhZ2UsIGRhdGF9ID0gYXdhaXQgcGF5bWVudEFwaS5wYXlPcmRlckJ5SWQoaWQpCiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzKXsKICAgICAgICAgICAgICAgICAgIGlmIChkYXRhKXsKICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdEJ1dHRvbkxvYWRpbmdGbGFnID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgLy8g5ZCO56uv6L+U5Zue55qE5pSv5LuY6Lez6L2s5Zyw5Z2ACiAgICAgICAgICAgICAgICAgICAgICAgLy8g5re75Yqg5LmL5YmN5YWI5Yig6Zmk5LiA5LiL77yM5aaC5p6c5Y2V6aG16Z2i77yM6aG16Z2i5LiN5Yi35paw77yM5re75Yqg6L+b5Y6755qE5YaF5a655Lya5LiA55u05L+d55WZ5Zyo6aG16Z2i5Lit77yM5LqM5qyh6LCD55SoIGZvcm0g6KGo5Y2V5Lya5Ye66ZSZCiAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGl2Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKQogICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXZGb3JtLmxlbmd0aCkgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXZGb3JtWzBdKQogICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyAvLyDliJvlu7rmlrDnmoQgZGl2CiAgICAgICAgICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGRhdGEgLy8gZGF0YSDlsLHmmK/mjqXlj6Pov5Tlm57nmoQgZm9ybSDooajljZXlrZfnrKbkuLIKICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7CiAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9jdW1lbnQuZm9ybXNbMF0uc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7IC8vIOaWsOW8gOeql+WPo+i3s+i9rAogICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmZvcm1zWzBdLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19zZWxmJyk7IC8vIOaWsOW8gOeql+WPo+i3s+i9rAogICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmZvcm1zWzBdLnN1Ym1pdCgpOy8vIOaPkOS6pAogICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgICAgIE5vdGlmeShtZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICAvLyDor6XorqLljZXkuI3lrZjlnKgsIOWbnuWIsOS4u+mhtQogICAgICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSA3MDAwMSkgYXdhaXQgdGhpcy4kcm91dGVyLnB1c2goIi9ob21lIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1jYXRjaCAoZSl7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIE5vdGlmeSgi5pSv5LuY5byC5bi4Iik7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvLyDnvZHnu5zlm77niYfot6/lvoTovazmjaIKICAgICAgICBpbWdQYXRoQ29udmVydChwYXRoKXsKICAgICAgICAgICAgcmV0dXJuICJodHRwOi8vMTAuMTAuMTAuNTU6OTAwMC9yZWdnaWUvc3RhdGljL2l0ZW0vIiArIHBhdGg7CiAgICAgICAgfSwKCiAgICB9Cgp9Cg=="},{"version":3,"sources":["OrderDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA","file":"OrderDetails.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div id=\"add_order\" class=\"app\" >\n        <div class=\"divHead\">\n            <div class=\"divTitle\">\n                <i class=\"el-icon-arrow-left\" @click=\"goBack\"></i>订单支付\n            </div>\n        </div>\n        <div class=\"divContent\">\n            <div class=\"divAddress\">\n                <div @click.prevent=\"toAddressPage\">\n                    <div class=\"address\">{{address.detail}}</div>\n                    <div class=\"name\">\n                        <span>{{address.consigneeName}}{{address.sex === '1' ? '先生':'女士'}}</span>\n                        <span>{{address.phoneNumber}}</span>\n                    </div>\n                    <i class=\"el-icon-arrow-right\"></i>\n                </div>\n                <div class=\"divSplit\"></div>\n                <div class=\"divFinishTime\">&nbsp;预计{{finishTime}}&nbsp;送达</div>\n            </div>\n            <div class=\"order\">\n                <div class=\"title\">订单明细</div>\n                <div class=\"divSplit\"></div>\n                <div class=\"itemList\">\n                    <div class=\"item\" v-for=\"(item,index) in cartData\" :key=\"index\">\n                        <el-image :src=\"imgPathConvert(item.imageDefUrl)\">\n                            <div slot=\"error\" class=\"image-slot\">\n                                <img src=\"../assets/images/noImg.png\"/>\n                            </div>\n                        </el-image>\n                        <div class=\"desc\">\n                            <div class=\"name\">{{item.name}}</div>\n                            <div class=\"ss-dish\">\n                                <el-tag style=\"margin-right: 6rem\"\n                                        type=\"success\"\n                                        size=\"mini\"\n                                        v-for=\"(tag,index) in item.dishFlavorList\"\n                                        :key=\"index\">{{tag}}</el-tag>\n                            </div>\n                            <div class=\"numPrice\">\n                                <span class=\"num\">数量: {{item.amount}}</span>\n                                <div class=\"price\">\n                                    <span class=\"spanMoney\">￥</span>{{item.price}}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"note\">\n                <div class=\"title\">备注</div>\n                <van-field\n                    v-model=\"note\"\n                    rows=\"2\"\n                    autosize\n                    type=\"textarea\"\n                    maxlength=\"50\"\n                    placeholder=\"请输入您需要备注的信息\"\n                    show-word-limit\n                />\n            </div>\n            <div class=\"note\" style=\"height: auto;\">\n                <div class=\"title\">价格明细</div>\n                <div class=\"ss-price-detail__item\">\n                    <div>商品总价&nbsp;<span style=\"font-size: 12rem\">(共{{goodsNum}}件)</span></div>\n                    <div>￥{{originalPrice}}</div>\n                </div>\n                <div class=\"ss-price-detail__item\">\n                    <div>运费</div>\n                    <div>￥{{ freightPrice }}</div>\n                </div>\n                <div class=\"ss-price-detail__item\">\n                    <div>满减优惠</div>\n                    <div>￥{{ coupon.price }}</div>\n                </div>\n                <div  class=\"ss-price-detail__item\">\n                    <div>合计</div>\n                    <div>￥{{ goodsPrice }}</div>\n                </div>\n            </div>\n        </div>\n\n\n        <!--<van-notice-bar-->\n        <!--    left-icon=\"info-o\"-->\n        <!--    style=\"position: fixed; bottom: 60rem; right: 0; left: 0;\"-->\n        <!--    :scrollable=\"false\" text=\"已为你选择默认地址\" />-->\n        <!--底部购物车栏-->\n        <shopping-cart-button-bar\n            :couponPrice=\"coupon.price\"\n            :billPrice=\"goodsPrice\"\n            :productTotalNumber=\"goodsNum\"\n            :loading=\"submitButtonLoadingFlag\"\n            :enableCouponPrice=\"true\"\n            @onCouponDetail=\"showCouponPopup = true\"\n            @onSubmit=\"goToPaySuccess\"\n        ></shopping-cart-button-bar>\n\n        <van-popup v-model=\"showCouponPopup\" position=\"bottom\">\n            <van-coupon-list\n                :show-exchange-bar=\"false\"\n                :coupons=\"coupons\"\n                :chosen-coupon=\"chosenCoupon\"\n                :disabled-coupons=\"disabledCoupons\"\n                @change=\"onChange\"\n            />\n        </van-popup>\n\n\n\n    </div>\n</template>\n\n<script>\nimport {Loading} from 'element-ui';\nimport {Notify, Toast} from 'vant';\nimport dateFomatUtils from \"../utils/dateFomatUtils\";\nimport randomNumberUtils from \"../utils/randomNumberUtils\";\nimport orderApi from \"../api/orderApi\";\nimport orderPaymentApi from \"../api/orderPaymentApi\";\nimport shoppingCartApi from \"../api/shoppingCartApi\";\nimport userAddressBookApi from \"../api/userAddressBookApi\";\nimport ShoppingCartButtonBar from \"@/components/ShoppingCartButtonBar\";\nimport paymentApi from \"@/api/paymentApi\";\n\nconst PAGE_NAME = '订单详细页';\nexport default {\n    name: \"OrderDetails\",\n    components: {  ShoppingCartButtonBar },\n    data(){\n        return {\n            address:{\n                phone:'',//手机号\n                consignee:'',//姓名\n                detail:'',//详细地址\n                sex:'1',\n                id:undefined\n            },\n            finishTime:'',//送达时间\n            cartData:[],\n            note:'', //备注信息\n            submitUUID: undefined,// 幂等性\n            priceDetails:[],// 当前符合使用优惠券的信息\n            showCouponPopup: false,\n            // 运费\n            freightPrice: 0,\n            // 优惠券列表\n            couponVos: undefined,\n            // 当前选中的优惠券\n            coupon: {\n                // 使用门槛\n                threshold: 0,\n                // 优惠面额\n                price: 0,\n            },\n            // 当前选中优惠券的索引, -1 全部都不选\n            chosenCoupon: -1,\n            // 可用优惠券列表\n            coupons: [],\n            // 不可用用的优惠券列表\n            disabledCoupons: [],\n            // 根据价格自动选择符合门槛并且面额最大的优惠券\n            autoSelectCoupon : true,\n            // 商品原价\n            originalPrice: 0,\n            // 提交按钮加载状态开启\n            submitButtonLoadingFlag: false,\n            // 提交之后生成的主键\n            submitOfPayOrderId: undefined,\n        }\n    },\n    computed:{\n\n        goodsNum(){\n            let num = 0\n            if (this.cartData){\n                if(this.cartData.length > 0){\n                    this.cartData.forEach(item=>{\n                        num += item.amount;\n                    })\n                }\n            }\n            return num >= 99?'99+':num;\n        },\n\n        goodsPrice(){\n            let price = 0\n            this.originalPrice = 0;\n            this.freightPrice = 8;\n            if (this.cartData){\n                if(this.cartData.length > 0) {\n                    this.cartData.forEach(item => {\n                        price += ((item.price) * item.amount)\n                    })\n                }\n                this.originalPrice = price;\n                // 检查运费\n                this.freightPrice = price >= 66 ? 0 : 8;\n                // 初始化\n                this.coupons = [];\n                this.disabledCoupons = [];\n                if (this.couponVos){\n                    // 循环遍历检查是否符合门槛\n                    this.couponVos.forEach(cp=>{\n                        // 如果当前循环的优惠券门槛大于总价就剔除\n                        if (cp.threshold > price){\n                            cp['reason'] = '当前金额不满使用门槛';\n                            this.disabledCoupons.push(cp);\n                        }else{\n                            // 添加到可以用的优惠券中\n                            this.coupons.push(cp);\n                        }\n                    })\n                    // 检查符合消费门槛中最大面额的优惠券\n                    if(this.coupons){\n                        this.coupons.forEach((cp,index)=>{\n                            // 关闭自动选择券之后, 用户减少商品导致不满足优惠券门槛再次开启自动选券\n                            if (this.coupon) if (this.coupon.threshold > price) if (!this.autoSelectCoupon) {\n                                this.autoSelectCoupon = true;\n                                this.coupon.price = 0;\n                            }\n                            // 自动选券\n                            if (this.autoSelectCoupon){\n                                console.log(\"价格=>\",price, this.coupon,\"优惠券门槛=>\", cp.threshold);\n                                // 比较面额并交换, 校验是否满足门槛\n                                if (cp.price > this.coupon.price && price >= cp.threshold){\n                                    this.coupon = cp;\n                                    this.chosenCoupon = index;\n                                }\n                            }\n\n                        })\n                    }\n                    if (this.coupon) if (this.coupon.threshold > price) {\n                        this.resetAll();\n                        this.goodsPrice;\n                    }\n                    if (this.freightPrice) price += this.freightPrice;\n                    if (this.coupon) price = ( price - this.coupon.price );\n                }\n            }\n            return price;\n        }\n    },\n    watch: {\n        // 优惠券列表\n        couponVos(val){\n            if (val){\n                val.forEach(cp=>{\n                    cp['available'] = cp.id;\n                    cp['condition'] = '满'+ cp.threshold + '元可用';\n                    cp['reason'] = '';\n                    cp['startAt'] = cp.startTime;\n                    cp['endAt'] = cp.endTime;\n                    cp['value'] = cp.price;\n                    cp['name'] = cp.couponName;\n                    cp['valueDesc'] = cp.price;\n                    cp['unitDesc'] = '元';\n                })\n            }\n        },\n        // 产品列表\n        cartData:{\n            // 深度监听\n            deep: true,\n            handler(val1,val2){\n                // 商品列表\n                if( val1 && val1.length > 0) val1.forEach(item => {\n                    if (item.value) {\n                        item['dishFlavorList'] = item.value.split(',');\n                    }\n                })\n            }\n        }\n    },\n    activated(){\n        console.log(PAGE_NAME,\"缓存激活\");\n    },\n    deactivated() {\n        console.info(PAGE_NAME,\"缓存暂停\")\n    },\n    created(){\n        console.log(PAGE_NAME,\"创建\");\n        // this.initData()\n    },\n    beforeMount() {\n        console.log(PAGE_NAME,\"初始化\");\n    },\n    mounted(){\n        console.log(PAGE_NAME,\"初始化完成\");\n    },\n    beforeDestroy() {\n        console.log(PAGE_NAME,\"销毁前\");\n    },\n    destroyed() {\n        console.log(PAGE_NAME,\"销毁了\");\n    },\n    beforeRouteEnter(to, from, next) {\n        console.log(PAGE_NAME,\"组件导航守卫路由器进入组件之前\");\n        const fullPath  =  from.fullPath;\n        let tempAddressItem = to.params;\n        next(vm => {\n            if (tempAddressItem){\n                if (tempAddressItem.addressDetail){\n                    if(tempAddressItem.addressDetail.phoneNumber) vm._data.address = tempAddressItem.addressDetail;\n                }\n            }\n            // 如果来自首页就重新获取一下商品信息\n            if(fullPath){\n                if (fullPath.includes('/home')) {\n                    console.log(\"来自首页强制刷新数据\")\n                    vm.initData();\n                    // vm.generateUUID();// uuid 一起刷新\n                    // vm.loadDefaultAddressDetails();\n                }else{\n                    if (!vm._data.cartData || vm._data.cartData.length === 0) vm.goBack();\n                }\n            }\n        });\n    },\n    beforeRouteLeave(to, from, next) {\n        console.log(PAGE_NAME,\"组件导航守卫路由器离开\");\n        next();\n    },\n    methods:{\n\n        /**重置数据*/\n        resetAll(){\n            this.submitOfPayOrderId = undefined;\n            this.originalPrice = 0;\n            // 提交按钮显示加载\n            this.submitButtonLoadingFlag = false;\n            // 自动选择优惠券\n            this.autoSelectCoupon = true;\n            // 默认选中的优惠券下标\n            this.chosenCoupon = -1;\n            // 当前选中的优惠券\n            this.coupon =  { threshold: 0, price: 0,};\n        },\n\n        goBack(){\n            this.$router.go(-1);\n        },\n\n        // 加载订单聚合信息, 购物车数据, 地址信息, 优惠券集合\n        async initData(){\n            this.resetAll();\n            let loadingInstance = Loading.service({ fullscreen: true });\n            try {\n                const { status,data } = await orderApi.buildBillData();\n                if(status) {\n                    if (data) {\n                        const {userAddressBookVo, shoppingCartVos, couponVos} = data;\n                        // 优惠券\n                        if (couponVos) this.couponVos = couponVos;\n                        // 购物车\n                        if (shoppingCartVos) this.cartData = shoppingCartVos;\n                        // 地址簿\n                        if(userAddressBookVo){\n                            this.address = userAddressBookVo;\n                            this.getFinishTime();\n                            Toast({\n                                message: '已您自动选择默认收货地址',\n                                position: 'bottom',\n                            });\n                        }else{\n                            Notify({type: 'warning', message: name + '您当前无默认地址'});\n                            this.toAddressPage();\n                        }\n                        loadingInstance.close();\n                        return\n                    }\n                }\n            }catch (e){}\n            loadingInstance.close();\n            Notify({type: 'warning', message: '当前无产品结算'});\n            this.$router.replace(\"/\");\n        },\n\n        // 点击优惠券\n        onChange(index) {\n            // 手动选券就失效调用自动券\n            this.autoSelectCoupon = false;\n            // 关闭优惠券列表\n            this.showCouponPopup = false;\n            // 当前选中的优惠券下标\n            this.chosenCoupon = index;\n            // 当前选择的优惠券对象\n            if (index !== -1) this.coupon = this.coupons[index];\n        },\n\n\n\n        // 生成 uuid\n        generateUUID(){\n            this.submitUUID = dateFomatUtils.dateFormat(new Date(),\"yyyyMMddhhmmss\")+\"\"+randomNumberUtils.uuid(5,10).toString();\n            console.log(this.submitUUID,this.submitUUID.length);\n        },\n\n        //获取送达时间\n        getFinishTime(){\n            let now = new Date()\n            let hour = now.getHours() +1\n            let minute = now.getMinutes()\n            if(hour.toString().length <2){\n                hour = '0' + hour\n            }\n            if(minute.toString().length <2){\n                minute = '0' + minute\n            }\n            this.finishTime = hour + ':' + minute\n        },\n\n        // 去添加地址页面\n        toAddressPage(){\n            window.requestAnimationFrame(()=>{\n                //值为true需要缓存，为false不需要缓存(\"\");\n                this.$router.push('/user/address/book');\n            })\n        },\n\n        // 获取地址\n        async loadDefaultAddressDetails(){\n            try {\n                const { status,message,data } = await  userAddressBookApi.getDefault();\n                if (status){\n                    if (data){\n                        this.address = data;\n                    }else {\n                        this.toAddressPage();\n                    }\n                }else{\n                    Notify(\"获取地址失败:\" + message);\n                }\n            }catch (e) {\n                Notify(e.message);\n            }\n        },\n\n        // 获取购物车数据\n        async getCartData(){\n            const {status, message, data} = await shoppingCartApi.list();\n            if(status){\n                if (data){\n                    if (data.length > 0){\n                        this.cartData = data;\n                        return\n                    }\n                }\n                this.$ssToast('当前无产品结算');\n                window.requestAnimationFrame(()=>{\n                    this.$router.replace(\"/\");\n                })\n            }else{\n                this.$ssToast(message);\n            }\n        },\n\n        // 提交订单\n        async goToPaySuccess(){\n            if (!this.address){\n                Notify(\"用户地址信息不存在\");\n                return\n             }\n            this.submitButtonLoadingFlag = true;\n            // 检查是否提交成功了\n            if (this.submitOfPayOrderId){\n                this.payOrder(this.submitOfPayOrderId);\n                return;\n            }\n            // let loadingInstance = Loading.service({ fullscreen: true });\n            // 解构地址簿\n            const { consigneeName, phoneNumber, detail, sex, label } = this.address;\n            // 解构优惠券\n            let vo = {\n                /** 收货人姓名 */\n                consigneeName:consigneeName,\n                /** 手机号 */\n                phoneNumber:phoneNumber,\n                /** 详细地址 */\n                detail:detail,\n                /** 性别,0女,1男 */\n                sex:sex,\n                /** 标签,0默认,1家,2学校,3公司,4其他*/\n                label: label,\n                /** 用户备注 */\n                remark: this.note,\n                /** 地址绑定的主键 */\n                addressBookId: this.address.id,\n                //原总价\n                originalPrice: this.originalPrice,\n                /** 前端实际付价格 */\n                billPrice: this.goodsPrice,\n                // 运费\n                freightPrice:this.freightPrice,\n                // 产品数量\n                productTotalNumber:this.goodsNum,\n            }\n\n            if (this.coupon){\n                try {\n                    const {id, price} = this.coupon;\n                    vo['couponId'] = id;\n                    vo['couponPrice'] = price;\n                }catch (e){}\n            }\n            try {\n                // 发起订单生成\n                const {status, message, data} = await orderPaymentApi.submit(vo);\n                if(status){\n                    // 提交成功, 拉起支付\n                    Toast({\n                        message: '提交成功，正在拉起支付',\n                        position: 'bottom',\n                    });\n                    this.submitOfPayOrderId = data;\n                    await this.payOrder(data);\n                }else {\n                    Toast({\n                        message: '提交失败{}' + message,\n                        position: 'bottom',\n                    });\n                }\n            }catch (e) {\n            }\n            this.submitButtonLoadingFlag = false;\n            // loadingInstance.close();\n            this.$message({ message: message, type: 'warning'});\n        },\n\n        async payOrder(orderId){\n            if (!orderId) {\n                Notify(\"订单号不存在\");\n                return;\n            }\n            const id = orderId + '';\n            // 这里判断导致数据异常\n            if (orderId === '-1') {\n                // 提示失败\n                Notify(\"拉起支付失败\");\n                // 跳转到订单页面\n                this.$router.push(\"/order\");\n            }\n            try{\n                // 发起支付请求\n                const {status,code, message, data} = await paymentApi.payOrderById(id)\n                if (status){\n                   if (data){\n                       this.submitButtonLoadingFlag = false;\n                       // 后端返回的支付跳转地址\n                       // 添加之前先删除一下，如果单页面，页面不刷新，添加进去的内容会一直保留在页面中，二次调用 form 表单会出错\n                       const divForm = document.getElementsByTagName('div')\n                       if (divForm.length) document.body.removeChild(divForm[0])\n                       const div = document.createElement('div'); // 创建新的 div\n                       div.innerHTML = data // data 就是接口返回的 form 表单字符串\n                       document.body.appendChild(div);\n                       // document.forms[0].setAttribute('target', '_blank'); // 新开窗口跳转\n                       document.forms[0].setAttribute('target', '_self'); // 新开窗口跳转\n                       document.forms[0].submit();// 提交\n                   }\n                }else {\n                    Notify(message);\n                    // 该订单不存在, 回到主页\n                    if (code === 70001) await this.$router.push(\"/home\");\n                }\n            }catch (e){\n                console.log(e);\n                Notify(\"支付异常\");\n            }\n        },\n\n        // 网络图片路径转换\n        imgPathConvert(path){\n            return \"http://10.10.10.55:9000/reggie/static/item/\" + path;\n        },\n\n    }\n\n}\n</script>\n\n<style scoped>\n#add_order{\n    background: #f3f2f7;\n    height: 100vh;\n}\n#add_order .divHead {\n    width: 100%;\n    /*height: 88rem;*/\n    height: 50rem;\n    opacity: 1;\n    background: #333333;\n    position: relative;\n}\n\n#add_order .divHead .divTitle {\n    font-size: 18rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 500;\n    text-align: center;\n    color: #ffffff;\n    line-height: 25rem;\n    letter-spacing: 0;\n    position: absolute;\n    bottom: 13rem;\n    width: 100%;\n}\n\n#add_order .divHead .divTitle i {\n    position: absolute;\n    left: 16rem;\n    top: 50%;\n    transform: translate(0, -50%);\n}\n\n#add_order .divContent {\n    /*margin: 10rem 10rem 0 10rem;*/\n    margin: 10rem 6rem 0 6rem;\n    /*height: calc(100vh - 56rem - 110rem);*/\n    height: calc(100vh - 10rem - 110rem);\n    overflow-y: auto;\n}\n\n#add_order .divContent .divAddress {\n    /*height: 120rem;*/\n    height: 112rem;\n    opacity: 1;\n    background: #ffffff;\n    border-radius: 6rem;\n    position: relative;\n    padding: 11rem 10rem 0 16rem;\n}\n\n#add_order .divContent .divAddress .address {\n    height: 25rem;\n    opacity: 1;\n    font-size: 18rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 500;\n    text-align: left;\n    color: #20232a;\n    line-height: 25rem;\n    margin-bottom: 4rem;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    width: 300rem;\n}\n\n#add_order .divContent .divAddress .name {\n    height: 17rem;\n    opacity: 1;\n    font-size: 12rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 400;\n    text-align: left;\n    color: #333333;\n    line-height: 17rem;\n}\n\n#add_order .divContent .divAddress .name span:first-child {\n    margin-right: 2rem;\n}\n\n#add_order .divContent .divAddress i {\n    position: absolute;\n    right: 14rem;\n    top: 32rem;\n}\n\n#add_order .divContent .divAddress .divSplit {\n    width: 100%;\n    height: 1px;\n    opacity: 1;\n    border: 0;\n    background-color: #ebebeb;\n    margin-top: 14rem;\n}\n\n#add_order .divContent .divAddress .divFinishTime {\n    height: 47rem;\n    opacity: 1;\n    /*font-size: 12rem;*/\n    font-size: 16rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 400;\n    text-align: left;\n    color: #333333;\n    line-height: 47rem;\n    margin-left: 2rem;\n}\n\n#add_order .divContent .order {\n    background: #ffffff;\n    border-radius: 6rem;\n    margin-top: 10rem;\n    margin-bottom: 10rem;\n    padding: 3rem 10rem 7rem 16rem;\n}\n\n#add_order .divContent .order .title {\n    height: 56rem;\n    line-height: 56rem;\n    opacity: 1;\n    font-size: 16rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 500;\n    text-align: left;\n    color: #333333;\n    letter-spacing: 0;\n}\n\n#add_order .divContent .order .divSplit {\n    height: 1px;\n    opacity: 1;\n    background-color: #efefef;\n    border: 0;\n}\n\n#add_order .divContent .order .itemList .item {\n    display: flex;\n}\n\n#add_order .divContent .order .itemList .item .el-image {\n    padding-top: 20rem;\n    padding-bottom: 20rem;\n    width: 64rem;\n    height: 64rem;\n}\n\n#add_order .divContent .order .itemList .item .el-image img {\n    width: 64rem;\n    height: 64rem;\n}\n\n#add_order .divContent .order .itemList .item:first-child .desc {\n    border: 0;\n}\n\n#add_order .divContent .order .itemList .item .desc {\n    padding-top: 20rem;\n    padding-bottom: 20rem;\n    border-top: 2px solid #ebeef5;\n    width: calc(100% - 64rem);\n}\n\n#add_order .divContent .order .itemList .item .desc .name {\n    height: 22rem;\n    opacity: 1;\n    font-size: 16rem;\n    font-family: PingFangSC, PingFangSC-Semibold;\n    font-weight: 600;\n    text-align: left;\n    color: #20232a;\n    line-height: 22rem;\n    letter-spacing: 0;\n    margin-left: 10rem;\n    /*margin-bottom: 16rem;*/\n    margin-bottom: 4rem;\n}\n\n#add_order .divContent .order .itemList .item .desc .numPrice {\n    height: 22rem;\n    display: flex;\n    justify-content: space-between;\n}\n\n#add_order .divContent .order .itemList .item .desc .numPrice span {\n    margin-left: 12rem;\n    height: 20rem;\n    opacity: 1;\n    font-size: 14rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 400;\n    text-align: left;\n    color: #818693;\n    line-height: 20rem;\n    letter-spacing: 0;\n    display: inline-block;\n}\n\n#add_order .divContent .order .itemList .item .desc .numPrice .price {\n    font-size: 20rem;\n    font-family: DIN, DIN-Medium;\n    font-weight: 500;\n    text-align: left;\n    color: #e94e3c;\n}\n\n#add_order\n.divContent\n.order\n.itemList\n.item\n.desc\n.numPrice\n.price\n.spanMoney {\n    color: #e94e3c;\n    font-size: 12rem;\n}\n\n#add_order .divContent .note {\n    height: 164rem;\n    opacity: 1;\n    background: #ffffff;\n    border-radius: 6px;\n    margin-top: 11rem;\n    padding: 3rem 10rem 10rem 11rem;\n}\n\n#add_order .divContent .note .title {\n    height: 56rem;\n    opacity: 1;\n    font-size: 16rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 500;\n    text-align: left;\n    color: #333333;\n    line-height: 56rem;\n    letter-spacing: 0px;\n    border-bottom: 2rem solid #efefef;\n}\n\n#add_order .divContent .note .van-cell {\n    height: 103rem;\n}\n\n.ss-dish{\n    margin-left: 10rem;\n    margin-bottom: 2rem;\n    /*margin: 6rem 0;*/\n}\n\n.ss-price-detail__item{\n    font-size: 16rem;\n    padding: 6rem 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n.ss-price-detail__item div:nth-child(2){\n    color: #e94e3c;\n}\n\n</style>"]}]}