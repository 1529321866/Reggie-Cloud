{"remainingRequest":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\src\\views\\ReOrderDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\src\\views\\ReOrderDetails.vue","mtime":1659793824000},{"path":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\git projects\\order-take-out-cloud-master\\order-take-out-cloud-master\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQge0xvYWRpbmd9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQge05vdGlmeX0gZnJvbSAndmFudCc7CmltcG9ydCBkYXRlRm9tYXRVdGlscyBmcm9tICIuLi91dGlscy9kYXRlRm9tYXRVdGlscyI7CmltcG9ydCByYW5kb21OdW1iZXJVdGlscyBmcm9tICIuLi91dGlscy9yYW5kb21OdW1iZXJVdGlscyI7CmltcG9ydCBvcmRlclBheW1lbnRBcGkgZnJvbSAiLi4vYXBpL29yZGVyUGF5bWVudEFwaSI7CmltcG9ydCBjaGlsZE9yZGVyQXBpIGZyb20gIi4uL2FwaS9jaGlsZE9yZGVyQXBpIjsKCmNvbnN0IFBBR0VfTkFNRSA9ICfph43mlrDkuIvljZXor6bnu4bpobUnOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiUmVPcmRlckRldGFpbHMiLAogICAgY29tcG9uZW50czp7IH0sCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgb3JkZXJJZDogdW5kZWZpbmVkLAogICAgICAgICAgICBhZGRyZXNzOnsKICAgICAgICAgICAgICAgIHBob25lOicnLC8v5omL5py65Y+3CiAgICAgICAgICAgICAgICBjb25zaWduZWU6JycsLy/lp5PlkI0KICAgICAgICAgICAgICAgIGRldGFpbDonJywvL+ivpue7huWcsOWdgAogICAgICAgICAgICAgICAgc2V4OicxJywKICAgICAgICAgICAgICAgIGlkOnVuZGVmaW5lZAogICAgICAgICAgICB9LAogICAgICAgICAgICBmaW5pc2hUaW1lOicnLC8v6YCB6L6+5pe26Ze0CiAgICAgICAgICAgIGNhcnREYXRhOltdLAogICAgICAgICAgICBub3RlOicnLCAvL+Wkh+azqOS/oeaBrwogICAgICAgICAgICBzdWJtaXRVVUlEOiB1bmRlZmluZWQsLy8g5bmC562J5oCnCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOnsKCiAgICAgICAgZ29vZHNOdW0oKXsKICAgICAgICAgICAgbGV0IG51bSA9IDAKICAgICAgICAgICAgaWYgKHRoaXMuY2FydERhdGEpewogICAgICAgICAgICAgICAgaWYodGhpcy5jYXJ0RGF0YS5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcnREYXRhLmZvckVhY2goaXRlbT0+ewogICAgICAgICAgICAgICAgICAgICAgICBudW0gKz0gaXRlbS5hbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbnVtID49IDk5Pyc5OSsnOm51bTsKICAgICAgICB9LAoKICAgICAgICBnb29kc1ByaWNlKCl7CiAgICAgICAgICAgIGxldCBwcmljZSA9IDAKICAgICAgICAgICAgaWYgKHRoaXMuY2FydERhdGEpewogICAgICAgICAgICAgICAgaWYodGhpcy5jYXJ0RGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJ0RGF0YS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICBwcmljZSArPSAoKGl0ZW0ucHJpY2UvMTAwKSAqIGl0ZW0uYW1vdW50KQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHByaWNlOwogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDogewogICAgICAgIC8vIOS6p+WTgeWIl+ihqAogICAgICAgIGNhcnREYXRhOnsKICAgICAgICAgICAgLy8g5rex5bqm55uR5ZCsCiAgICAgICAgICAgIGRlZXA6IHRydWUsCiAgICAgICAgICAgIGhhbmRsZXIodmFsMSx2YWwyKXsKICAgICAgICAgICAgICAgIC8vIOWVhuWTgeWIl+ihqAogICAgICAgICAgICAgICAgaWYoIHZhbDEgJiYgdmFsMS5sZW5ndGggPiAwKSB2YWwxLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uYXR0cmlidXRlc1ZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1bJ2Rpc2hGbGF2b3JMaXN0J10gPSBpdGVtLmF0dHJpYnV0ZXNWYWx1ZS5zcGxpdCgnLCcpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgYWN0aXZhdGVkKCl7CiAgICAgICAgY29uc29sZS5sb2coUEFHRV9OQU1FLCLnvJPlrZjmv4DmtLsiKTsKICAgIH0sCiAgICBkZWFjdGl2YXRlZCgpIHsKICAgICAgICBjb25zb2xlLmluZm8oUEFHRV9OQU1FLCLnvJPlrZjmmoLlgZwiKQogICAgfSwKICAgIGNyZWF0ZWQoKXsKICAgICAgICBjb25zb2xlLmxvZyhQQUdFX05BTUUsIuWIm+W7uiIpOwogICAgfSwKICAgIGJlZm9yZU1vdW50KCkgewogICAgICAgIGNvbnNvbGUubG9nKFBBR0VfTkFNRSwi5Yid5aeL5YyWIik7CiAgICB9LAogICAgbW91bnRlZCgpewogICAgICAgIGNvbnNvbGUubG9nKFBBR0VfTkFNRSwi5Yid5aeL5YyW5a6M5oiQIik7CiAgICB9LAogICAgYmVmb3JlRGVzdHJveSgpIHsKICAgICAgICBjb25zb2xlLmxvZyhQQUdFX05BTUUsIumUgOavgeWJjSIpOwogICAgfSwKICAgIGRlc3Ryb3llZCgpIHsKICAgICAgICBjb25zb2xlLmxvZyhQQUdFX05BTUUsIumUgOavgeS6hiIpOwogICAgfSwKICAgIGJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgICAgICBjb25zb2xlLmxvZyhQQUdFX05BTUUsIue7hOS7tuWvvOiIquWuiOWNq+i3r+eUseWZqOi/m+WFpee7hOS7tuS5i+WJjSIpOwogICAgICAgIGNvbnN0IHsgZnVsbFBhdGggfSAgPSAgZnJvbTsKICAgICAgICBjb25zdCB7IHBhcmFtcyB9ID0gdG87CiAgICAgICAgbmV4dCh2bSA9PiB7CiAgICAgICAgICAgIGlmIChwYXJhbXMpewogICAgICAgICAgICAgICAgaWYoZnVsbFBhdGgpewogICAgICAgICAgICAgICAgICAgIGlmIChmdWxsUGF0aC5pbmNsdWRlcygnL29yZGVyJykpIHsKICAgICAgICAgICAgICAgICAgICAgICB2bS5pbml0RGF0YShwYXJhbXMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuYWRkcmVzc0RldGFpbCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHBhcmFtcy5hZGRyZXNzRGV0YWlsLnBhcmFtcyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5fZGF0YS5hZGRyZXNzID0gcGFyYW1zLmFkZHJlc3NEZXRhaWw7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICBiZWZvcmVSb3V0ZUxlYXZlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICAgICAgY29uc29sZS5sb2coUEFHRV9OQU1FLCLnu4Tku7blr7zoiKrlrojljavot6/nlLHlmajnprvlvIAiKTsKICAgICAgICBuZXh0KCk7CiAgICB9LAogICAgbWV0aG9kczp7CgogICAgICAgIGdvQmFjaygpewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0sCgogICAgICAgIGFzeW5jIGluaXREYXRhKHBhcmFtcyl7CiAgICAgICAgICAgIGlmIChwYXJhbXMpewogICAgICAgICAgICAgICAgY29uc3QgeyBpZCB9ID0gcGFyYW1zOwogICAgICAgICAgICAgICAgdGhpcy5vcmRlcklkID0gaWQ7CiAgICAgICAgICAgICAgICBsZXQgbG9hZGluZ0luc3RhbmNlID0gTG9hZGluZy5zZXJ2aWNlKHsgZnVsbHNjcmVlbjogdHJ1ZSB9KTsKICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVVVUlEKCk7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhdHVzLGNvZGUsbWVzc2FnZSxkYXRhIH0gPSBhd2FpdCBjaGlsZE9yZGVyQXBpLmxpc3QoaWQpOwogICAgICAgICAgICAgICAgICAgIGlmKHN0YXR1cykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBhZGRyZXNzQm9va1ZvLCBzaG9wcGluZ0NhcnRMaXN0Vm9zIH0gPSBkYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJ0RGF0YSA9IHNob3BwaW5nQ2FydExpc3RWb3M7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihhZGRyZXNzQm9va1ZvKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzQm9va1ZvOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RmluaXNoVGltZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3NUb2FzdCgi5oKo5b2T5YmN5peg6YWN572u5Zyw5Z2AIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b0FkZHJlc3NQYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nSW5zdGFuY2UuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfWNhdGNoIChlKXt9CiAgICAgICAgICAgICAgICBsb2FkaW5nSW5zdGFuY2UuY2xvc2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBOb3RpZnkoJ+W9k+WJjeaXoOS6p+WTgee7k+eulycpOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgiLyIpOwogICAgICAgIH0sCgogICAgICAgIC8vIOeUn+aIkCB1dWlkCiAgICAgICAgZ2VuZXJhdGVVVUlEKCl7CiAgICAgICAgICAgIHRoaXMuc3VibWl0VVVJRCA9IGRhdGVGb21hdFV0aWxzLmRhdGVGb3JtYXQobmV3IERhdGUoKSwieXl5eU1NZGRoaG1tc3MiKSsiIityYW5kb21OdW1iZXJVdGlscy51dWlkKDUsMTApLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3VibWl0VVVJRCx0aGlzLnN1Ym1pdFVVSUQubGVuZ3RoKTsKICAgICAgICB9LAoKICAgICAgICAvL+iOt+WPlumAgei+vuaXtumXtAogICAgICAgIGdldEZpbmlzaFRpbWUoKXsKICAgICAgICAgICAgbGV0IG5vdyA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgbGV0IGhvdXIgPSBub3cuZ2V0SG91cnMoKSArMQogICAgICAgICAgICBsZXQgbWludXRlID0gbm93LmdldE1pbnV0ZXMoKQogICAgICAgICAgICBpZihob3VyLnRvU3RyaW5nKCkubGVuZ3RoIDwyKXsKICAgICAgICAgICAgICAgIGhvdXIgPSAnMCcgKyBob3VyCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYobWludXRlLnRvU3RyaW5nKCkubGVuZ3RoIDwyKXsKICAgICAgICAgICAgICAgIG1pbnV0ZSA9ICcwJyArIG1pbnV0ZQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuZmluaXNoVGltZSA9IGhvdXIgKyAnOicgKyBtaW51dGUKICAgICAgICB9LAoKICAgICAgICAvLyDljrvmt7vliqDlnLDlnYDpobXpnaIKICAgICAgICB0b0FkZHJlc3NQYWdlKCl7CiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PnsKICAgICAgICAgICAgICAgIC8v5YC85Li6dHJ1ZemcgOimgee8k+WtmO+8jOS4umZhbHNl5LiN6ZyA6KaB57yT5a2YKCIiKTsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvdXNlci9hZGRyZXNzL2Jvb2snKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgICAgICAvLyDmj5DkuqTorqLljZUs5o+Q56S66YCJ5oup5pSv5LuY5pa55byPCiAgICAgICAgYXN5bmMgZ29Ub1BheVN1Y2Nlc3MoKXsKICAgICAgICAgICAgaWYgKCF0aGlzLm9yZGVySWQpewogICAgICAgICAgICAgICAgTm90aWZ5KCLorqLljZXmoIfor4bkuI3lrZjlnKgiKQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoIi9vcmRlciIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghdGhpcy5hZGRyZXNzKXsKICAgICAgICAgICAgICAgIE5vdGlmeSgi55So5oi35Zyw5Z2A5L+h5oGv5LiN5a2Y5ZyoIik7CiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IGxvYWRpbmdJbnN0YW5jZSA9IExvYWRpbmcuc2VydmljZSh7IGZ1bGxzY3JlZW46IHRydWUgfSk7CiAgICAgICAgICAgIGNvbnN0IHsgY29uc2lnbmVlTmFtZSwgcGhvbmVOdW1iZXIsIGRldGFpbCwgc2V4LCBsYWJlbCB9ID0gdGhpcy5hZGRyZXNzOwogICAgICAgICAgICBjb25zdCB2byA9IHsKICAgICAgICAgICAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJJZCwKICAgICAgICAgICAgICAgIC8qKiDluYLnrYnmgKcgKi8KICAgICAgICAgICAgICAgIHN1Ym1pdElkOiB0aGlzLnN1Ym1pdFVVSUQsCiAgICAgICAgICAgICAgICAvKiog5pS26LSn5Lq65aeT5ZCNICovCiAgICAgICAgICAgICAgICBjb25zaWduZWVOYW1lOmNvbnNpZ25lZU5hbWUsCiAgICAgICAgICAgICAgICAvKiog5omL5py65Y+3ICovCiAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjpwaG9uZU51bWJlciwKICAgICAgICAgICAgICAgIC8qKiDor6bnu4blnLDlnYAgKi8KICAgICAgICAgICAgICAgIGRldGFpbDpkZXRhaWwsCiAgICAgICAgICAgICAgICAvKiog5oCn5YirLDDlpbMsMeeUtyAqLwogICAgICAgICAgICAgICAgc2V4OnNleCwKICAgICAgICAgICAgICAgIC8qKiDmoIfnrb4sMOm7mOiupCwx5a62LDLlrabmoKEsM+WFrOWPuCw05YW25LuWKi8KICAgICAgICAgICAgICAgIGxhYmVsOiBsYWJlbCwKICAgICAgICAgICAgICAgIC8qKiDnlKjmiLflpIfms6ggKi8KICAgICAgICAgICAgICAgIHJlbWFyazogdGhpcy5ub3RlLAogICAgICAgICAgICAgICAgLyoqIOaUr+S7mOaWueW8jyAqLwogICAgICAgICAgICAgICAgcGF5TWV0aG9kOiAwLAogICAgICAgICAgICAgICAgLyoqIOWcsOWdgOe7keWumueahOS4u+mUriAqLwogICAgICAgICAgICAgICAgYWRkcmVzc0Jvb2tJZDogdGhpcy5hZGRyZXNzLmlkLAogICAgICAgICAgICAgICAgLyoqIOWJjeerr+WunumZheS7mOS7t+agvCAqLwogICAgICAgICAgICAgICAgcGF5QW1vdW50OiB0aGlzLmdvb2RzUHJpY2UsCiAgICAgICAgICAgICAgICAvLyDkvJjmg6Dku7fmoLwKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDlj5HotbfmlK/ku5gKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhdHVzLGNvZGUsbWVzc2FnZSxkYXRhfSA9IGF3YWl0IG9yZGVyUGF5bWVudEFwaS5hZ2Fpbih2byk7CiAgICAgICAgICAgICAgICBpZihzdGF0dXMpewogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhKXsKICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ0luc3RhbmNlLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWQjuerr+i/lOWbnueahOaUr+S7mOi3s+i9rOWcsOWdgAogICAgICAgICAgICAgICAgICAgICAgICAvLyDmt7vliqDkuYvliY3lhYjliKDpmaTkuIDkuIvvvIzlpoLmnpzljZXpobXpnaLvvIzpobXpnaLkuI3liLfmlrDvvIzmt7vliqDov5vljrvnmoTlhoXlrrnkvJrkuIDnm7Tkv53nlZnlnKjpobXpnaLkuK3vvIzkuozmrKHosIPnlKggZm9ybSDooajljZXkvJrlh7rplJkKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGl2Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGl2Rm9ybS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZGl2Rm9ybVswXSkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgLy8g5Yib5bu65paw55qEIGRpdgogICAgICAgICAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gZGF0YSAvLyBkYXRhIOWwseaYr+aOpeWPo+i/lOWbnueahCBmb3JtIOihqOWNleWtl+espuS4sgogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50LmZvcm1zWzBdLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19ibGFuaycpOyAvLyDmlrDlvIDnqpflj6Pot7PovawKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZm9ybXNbMF0uc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX3NlbGYnKTsgLy8g5paw5byA56qX5Y+j6Lez6L2sCiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmZvcm1zWzBdLnN1Ym1pdCgpOy8vIOaPkOS6pAogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsgbWVzc2FnZTogbWVzc2FnZSwgdHlwZTogJ3dhcm5pbmcnfSk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH1jYXRjaCAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuaPkOS6pOmUmeivr+S/oeaBrz0+IixlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsb2FkaW5nSW5zdGFuY2UuY2xvc2UoKTsKICAgICAgICAgICAgTm90aWZ5KCLmnKrnn6XplJnor68iKQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgiL29yZGVyIik7CiAgICAgICAgfSwKCiAgICAgICAgLy8g572R57uc5Zu+54mH6Lev5b6E6L2s5o2iCiAgICAgICAgaW1nUGF0aENvbnZlcnQocGF0aCl7CiAgICAgICAgICAgIHJldHVybiAiaHR0cDovLzEwLjEwLjEwLjU1OjkwMDAvcmVnZ2llL3N0YXRpYy9pdGVtLyIgKyBwYXRoOwogICAgICAgIH0sCgogICAgfQoKfQo="},{"version":3,"sources":["ReOrderDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA","file":"ReOrderDetails.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div id=\"add_order\" class=\"app\" >\n        <div class=\"divHead\">\n            <div class=\"divTitle\">\n                <i class=\"el-icon-arrow-left\" @click=\"goBack\"></i>订单支付\n            </div>\n        </div>\n        <div class=\"divContent\">\n            <div class=\"divAddress\">\n                <div @click.prevent=\"toAddressPage\">\n                    <div class=\"address\">{{address.detail}}</div>\n                    <div class=\"name\">\n                        <span>{{address.consigneeName}}{{address.sex === '1' ? '先生':'女士'}}</span>\n                        <span>{{address.phoneNumber}}</span>\n                    </div>\n                    <i class=\"el-icon-arrow-right\"></i>\n                </div>\n                <div class=\"divSplit\"></div>\n                <div class=\"divFinishTime\">&nbsp;预计{{finishTime}}&nbsp;送达</div>\n            </div>\n            <div class=\"order\">\n                <div class=\"title\">订单明细</div>\n                <div class=\"divSplit\"></div>\n                <div class=\"itemList\">\n                    <div class=\"item\" v-for=\"(item,index) in cartData\" :key=\"index\">\n                        <el-image :src=\"imgPathConvert(item.imageDefUrl)\">\n                            <div slot=\"error\" class=\"image-slot\">\n                                <img src=\"../assets/images/noImg.png\"/>\n                            </div>\n                        </el-image>\n                        <div class=\"desc\">\n                            <div class=\"name\">{{item.name}}</div>\n                            <div class=\"ss-dish\">\n                                <el-tag style=\"margin-right: 6rem\"\n                                        type=\"success\"\n                                        size=\"mini\"\n                                        v-for=\"(tag,index) in item.dishFlavorList\"\n                                        :key=\"index\">{{tag}}</el-tag>\n                            </div>\n                            <div class=\"numPrice\">\n                                <span class=\"num\">数量: {{item.amount}}</span>\n                                <div class=\"price\">\n                                    <span class=\"spanMoney\">￥</span>{{item.price / 100}}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"note\">\n                <div class=\"title\">备注</div>\n                <van-field\n                    v-model=\"note\"\n                    rows=\"2\"\n                    autosize\n                    type=\"textarea\"\n                    maxlength=\"50\"\n                    placeholder=\"请输入您需要备注的信息\"\n                    show-word-limit\n                />\n            </div>\n        </div>\n\n        <div class=\"divCart\">\n            <div :class=\"{imgCartActive: cartData && cartData.length > 0, imgCart:!cartData || cartData.length<1}\"></div>\n            <div :class=\"{divGoodsNum:1===1, moreGoods:cartData && cartData.length > 99}\" v-if=\"cartData && cartData.length > 0\">{{ goodsNum }}</div>\n            <div class=\"divNum\">\n                <span>￥</span>\n                <span>{{goodsPrice}}</span>\n            </div>\n            <div class=\"divPrice\"></div>\n            <div :class=\"{btnSubmitActive: cartData && cartData.length > 0, btnSubmit:!cartData || cartData.length<1}\" @click.stop.prevent=\"goToPaySuccess\">立即付款</div>\n        </div>\n\n    </div>\n</template>\n\n<script>\n\nimport {Loading} from 'element-ui';\nimport {Notify} from 'vant';\nimport dateFomatUtils from \"../utils/dateFomatUtils\";\nimport randomNumberUtils from \"../utils/randomNumberUtils\";\nimport orderPaymentApi from \"../api/orderPaymentApi\";\nimport childOrderApi from \"../api/childOrderApi\";\n\nconst PAGE_NAME = '重新下单详细页';\nexport default {\n    name: \"ReOrderDetails\",\n    components:{ },\n    data(){\n        return {\n            orderId: undefined,\n            address:{\n                phone:'',//手机号\n                consignee:'',//姓名\n                detail:'',//详细地址\n                sex:'1',\n                id:undefined\n            },\n            finishTime:'',//送达时间\n            cartData:[],\n            note:'', //备注信息\n            submitUUID: undefined,// 幂等性\n        }\n    },\n    computed:{\n\n        goodsNum(){\n            let num = 0\n            if (this.cartData){\n                if(this.cartData.length > 0){\n                    this.cartData.forEach(item=>{\n                        num += item.amount;\n                    })\n                }\n            }\n            return num >= 99?'99+':num;\n        },\n\n        goodsPrice(){\n            let price = 0\n            if (this.cartData){\n                if(this.cartData.length > 0) {\n                    this.cartData.forEach(item => {\n                        price += ((item.price/100) * item.amount)\n                    })\n                }\n            }\n            return price;\n        }\n    },\n    watch: {\n        // 产品列表\n        cartData:{\n            // 深度监听\n            deep: true,\n            handler(val1,val2){\n                // 商品列表\n                if( val1 && val1.length > 0) val1.forEach(item => {\n                    if (item.attributesValue) {\n                        item['dishFlavorList'] = item.attributesValue.split(',');\n                    }\n                })\n            }\n        }\n    },\n    activated(){\n        console.log(PAGE_NAME,\"缓存激活\");\n    },\n    deactivated() {\n        console.info(PAGE_NAME,\"缓存暂停\")\n    },\n    created(){\n        console.log(PAGE_NAME,\"创建\");\n    },\n    beforeMount() {\n        console.log(PAGE_NAME,\"初始化\");\n    },\n    mounted(){\n        console.log(PAGE_NAME,\"初始化完成\");\n    },\n    beforeDestroy() {\n        console.log(PAGE_NAME,\"销毁前\");\n    },\n    destroyed() {\n        console.log(PAGE_NAME,\"销毁了\");\n    },\n    beforeRouteEnter(to, from, next) {\n        console.log(PAGE_NAME,\"组件导航守卫路由器进入组件之前\");\n        const { fullPath }  =  from;\n        const { params } = to;\n        next(vm => {\n            if (params){\n                if(fullPath){\n                    if (fullPath.includes('/order')) {\n                       vm.initData(params);\n                    }\n                }else{\n                    if (params.addressDetail){\n                        if(params.addressDetail.params){\n                            vm._data.address = params.addressDetail;\n                        }\n                    }\n                }\n            }\n        });\n    },\n    beforeRouteLeave(to, from, next) {\n        console.log(PAGE_NAME,\"组件导航守卫路由器离开\");\n        next();\n    },\n    methods:{\n\n        goBack(){\n            this.$router.go(-1);\n        },\n\n        async initData(params){\n            if (params){\n                const { id } = params;\n                this.orderId = id;\n                let loadingInstance = Loading.service({ fullscreen: true });\n                this.generateUUID();\n                try {\n                    const { status,code,message,data } = await childOrderApi.list(id);\n                    if(status) {\n                        if (data) {\n                            const { addressBookVo, shoppingCartListVos } = data;\n                            this.cartData = shoppingCartListVos;\n                            if(addressBookVo){\n                                this.address = addressBookVo;\n                                this.getFinishTime();\n                            }else{\n                                this.$ssToast(\"您当前无配置地址\");\n                                this.toAddressPage();\n                            }\n                            loadingInstance.close();\n                            return\n                        }\n                    }\n                }catch (e){}\n                loadingInstance.close();\n            }\n            Notify('当前无产品结算');\n            this.$router.replace(\"/\");\n        },\n\n        // 生成 uuid\n        generateUUID(){\n            this.submitUUID = dateFomatUtils.dateFormat(new Date(),\"yyyyMMddhhmmss\")+\"\"+randomNumberUtils.uuid(5,10).toString();\n            console.log(this.submitUUID,this.submitUUID.length);\n        },\n\n        //获取送达时间\n        getFinishTime(){\n            let now = new Date()\n            let hour = now.getHours() +1\n            let minute = now.getMinutes()\n            if(hour.toString().length <2){\n                hour = '0' + hour\n            }\n            if(minute.toString().length <2){\n                minute = '0' + minute\n            }\n            this.finishTime = hour + ':' + minute\n        },\n\n        // 去添加地址页面\n        toAddressPage(){\n            window.requestAnimationFrame(()=>{\n                //值为true需要缓存，为false不需要缓存(\"\");\n                this.$router.push('/user/address/book');\n            })\n        },\n\n        // 提交订单,提示选择支付方式\n        async goToPaySuccess(){\n            if (!this.orderId){\n                Notify(\"订单标识不存在\")\n                this.$router.replace(\"/order\");\n            }\n            if (!this.address){\n                Notify(\"用户地址信息不存在\");\n                return\n             }\n            let loadingInstance = Loading.service({ fullscreen: true });\n            const { consigneeName, phoneNumber, detail, sex, label } = this.address;\n            const vo = {\n                orderId: this.orderId,\n                /** 幂等性 */\n                submitId: this.submitUUID,\n                /** 收货人姓名 */\n                consigneeName:consigneeName,\n                /** 手机号 */\n                phoneNumber:phoneNumber,\n                /** 详细地址 */\n                detail:detail,\n                /** 性别,0女,1男 */\n                sex:sex,\n                /** 标签,0默认,1家,2学校,3公司,4其他*/\n                label: label,\n                /** 用户备注 */\n                remark: this.note,\n                /** 支付方式 */\n                payMethod: 0,\n                /** 地址绑定的主键 */\n                addressBookId: this.address.id,\n                /** 前端实际付价格 */\n                payAmount: this.goodsPrice,\n                // 优惠价格\n            }\n            // 发起支付\n            try {\n                const { status,code,message,data} = await orderPaymentApi.again(vo);\n                if(status){\n                    if (data){\n                        loadingInstance.close();\n                        // 后端返回的支付跳转地址\n                        // 添加之前先删除一下，如果单页面，页面不刷新，添加进去的内容会一直保留在页面中，二次调用 form 表单会出错\n                        const divForm = document.getElementsByTagName('div')\n                        if (divForm.length) {\n                            document.body.removeChild(divForm[0])\n                        }\n                        const div = document.createElement('div'); // 创建新的 div\n                        div.innerHTML = data // data 就是接口返回的 form 表单字符串\n                        document.body.appendChild(div);\n                        // document.forms[0].setAttribute('target', '_blank'); // 新开窗口跳转\n                        document.forms[0].setAttribute('target', '_self'); // 新开窗口跳转\n                        document.forms[0].submit();// 提交\n                        return\n                    }\n                }\n                this.$message({ message: message, type: 'warning'});\n                return;\n            }catch (e) {\n                console.log(\"提交错误信息=>\",e);\n            }\n            loadingInstance.close();\n            Notify(\"未知错误\")\n            this.$router.replace(\"/order\");\n        },\n\n        // 网络图片路径转换\n        imgPathConvert(path){\n            return \"http://10.10.10.55:9000/reggie/static/item/\" + path;\n        },\n\n    }\n\n}\n</script>\n\n<style scoped>\n#add_order{\n    background: #f3f2f7;\n    height: 100vh;\n}\n#add_order .divHead {\n    width: 100%;\n    /*height: 88rem;*/\n    height: 50rem;\n    opacity: 1;\n    background: #333333;\n    position: relative;\n}\n\n#add_order .divHead .divTitle {\n    font-size: 18rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 500;\n    text-align: center;\n    color: #ffffff;\n    line-height: 25rem;\n    letter-spacing: 0;\n    position: absolute;\n    bottom: 13rem;\n    width: 100%;\n}\n\n#add_order .divHead .divTitle i {\n    position: absolute;\n    left: 16rem;\n    top: 50%;\n    transform: translate(0, -50%);\n}\n\n#add_order .divContent {\n    /*margin: 10rem 10rem 0 10rem;*/\n    margin: 10rem 6rem 0 6rem;\n    /*height: calc(100vh - 56rem - 110rem);*/\n    height: calc(100vh - 10rem - 110rem);\n    overflow-y: auto;\n}\n\n#add_order .divContent .divAddress {\n    /*height: 120rem;*/\n    height: 112rem;\n    opacity: 1;\n    background: #ffffff;\n    border-radius: 6rem;\n    position: relative;\n    padding: 11rem 10rem 0 16rem;\n}\n\n#add_order .divContent .divAddress .address {\n    height: 25rem;\n    opacity: 1;\n    font-size: 18rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 500;\n    text-align: left;\n    color: #20232a;\n    line-height: 25rem;\n    margin-bottom: 4rem;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    width: 300rem;\n}\n\n#add_order .divContent .divAddress .name {\n    height: 17rem;\n    opacity: 1;\n    font-size: 12rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 400;\n    text-align: left;\n    color: #333333;\n    line-height: 17rem;\n}\n\n#add_order .divContent .divAddress .name span:first-child {\n    margin-right: 2rem;\n}\n\n#add_order .divContent .divAddress i {\n    position: absolute;\n    right: 14rem;\n    top: 32rem;\n}\n\n#add_order .divContent .divAddress .divSplit {\n    width: 100%;\n    height: 1px;\n    opacity: 1;\n    border: 0;\n    background-color: #ebebeb;\n    margin-top: 14rem;\n}\n\n#add_order .divContent .divAddress .divFinishTime {\n    height: 47rem;\n    opacity: 1;\n    /*font-size: 12rem;*/\n    font-size: 16rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 400;\n    text-align: left;\n    color: #333333;\n    line-height: 47rem;\n    margin-left: 2rem;\n}\n\n#add_order .divContent .order {\n    background: #ffffff;\n    border-radius: 6rem;\n    margin-top: 10rem;\n    margin-bottom: 10rem;\n    padding: 3rem 10rem 7rem 16rem;\n}\n\n#add_order .divContent .order .title {\n    height: 56rem;\n    line-height: 56rem;\n    opacity: 1;\n    font-size: 16rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 500;\n    text-align: left;\n    color: #333333;\n    letter-spacing: 0;\n}\n\n#add_order .divContent .order .divSplit {\n    height: 1px;\n    opacity: 1;\n    background-color: #efefef;\n    border: 0;\n}\n\n#add_order .divContent .order .itemList .item {\n    display: flex;\n}\n\n#add_order .divContent .order .itemList .item .el-image {\n    padding-top: 20rem;\n    padding-bottom: 20rem;\n    width: 64rem;\n    height: 64rem;\n}\n\n#add_order .divContent .order .itemList .item .el-image img {\n    width: 64rem;\n    height: 64rem;\n}\n\n#add_order .divContent .order .itemList .item:first-child .desc {\n    border: 0;\n}\n\n#add_order .divContent .order .itemList .item .desc {\n    padding-top: 20rem;\n    padding-bottom: 20rem;\n    border-top: 2px solid #ebeef5;\n    width: calc(100% - 64rem);\n}\n\n#add_order .divContent .order .itemList .item .desc .name {\n    height: 22rem;\n    opacity: 1;\n    font-size: 16rem;\n    font-family: PingFangSC, PingFangSC-Semibold;\n    font-weight: 600;\n    text-align: left;\n    color: #20232a;\n    line-height: 22rem;\n    letter-spacing: 0;\n    margin-left: 10rem;\n    /*margin-bottom: 16rem;*/\n    margin-bottom: 4rem;\n}\n\n#add_order .divContent .order .itemList .item .desc .numPrice {\n    height: 22rem;\n    display: flex;\n    justify-content: space-between;\n}\n\n#add_order .divContent .order .itemList .item .desc .numPrice span {\n    margin-left: 12rem;\n    height: 20rem;\n    opacity: 1;\n    font-size: 14rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 400;\n    text-align: left;\n    color: #818693;\n    line-height: 20rem;\n    letter-spacing: 0;\n    display: inline-block;\n}\n\n#add_order .divContent .order .itemList .item .desc .numPrice .price {\n    font-size: 20rem;\n    font-family: DIN, DIN-Medium;\n    font-weight: 500;\n    text-align: left;\n    color: #e94e3c;\n}\n\n#add_order\n.divContent\n.order\n.itemList\n.item\n.desc\n.numPrice\n.price\n.spanMoney {\n    color: #e94e3c;\n    font-size: 12rem;\n}\n\n#add_order .divContent .note {\n    height: 164rem;\n    opacity: 1;\n    background: #ffffff;\n    border-radius: 6px;\n    margin-top: 11rem;\n    padding: 3rem 10rem 10rem 11rem;\n}\n\n#add_order .divContent .note .title {\n    height: 56rem;\n    opacity: 1;\n    font-size: 16rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 500;\n    text-align: left;\n    color: #333333;\n    line-height: 56rem;\n    letter-spacing: 0px;\n    border-bottom: 2rem solid #efefef;\n}\n\n#add_order .divContent .note .van-cell {\n    height: 103rem;\n}\n\n#add_order .divCart {\n    width: 345rem;\n    height: 44rem;\n    opacity: 1;\n    background: #000000;\n    border-radius: 25rem;\n    box-shadow: 0rem 3rem 5rem 0rem rgba(0, 0, 0, 0.25);\n    margin: 0 auto;\n    margin-top: 10rem;\n    z-index: 3000;\n    position: absolute;\n    /* bottom: 35rem; */\n    bottom: 6rem;\n    left: 50%;\n    transform: translate(-50%, 0);\n}\n\n#add_order .divCart .imgCartActive {\n    background-image: url(\"../assets/images/cart_active.png\");\n}\n\n#add_order .divCart .imgCart {\n    background-image: url(\"../assets/images/cart.png\");\n}\n\n#add_order .divCart > div:first-child {\n    width: 60rem;\n    height: 60rem;\n    position: absolute;\n    left: 11rem;\n    bottom: 0;\n    background-size: 60rem 60rem;\n}\n\n#add_order .divCart .divNum {\n    font-size: 12rem;\n    font-family: DIN, DIN-Medium;\n    font-weight: 500;\n    text-align: left;\n    color: #ffffff;\n    letter-spacing: 0rem;\n    position: absolute;\n    left: 92rem;\n    top: 10rem;\n}\n\n#add_order .divCart .divNum span:last-child {\n    font-size: 20rem;\n}\n\n#add_order .divCart > div:last-child {\n    width: 102rem;\n    height: 36rem;\n    opacity: 1;\n    border-radius: 18rem;\n    font-size: 15rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 500;\n    text-align: center;\n    line-height: 36rem;\n    position: absolute;\n    right: 5rem;\n    top: 4rem;\n}\n\n#add_order .divCart .btnSubmit {\n    color: white;\n    background: #d8d8d8;\n}\n#add_order .divCart .btnSubmitActive {\n    color: #333333;\n    background: #ffc200;\n}\n\n#add_order .divCart .divGoodsNum {\n    width: 18rem;\n    height: 18rem;\n    opacity: 1;\n    background: #e94e3c;\n    border-radius: 50%;\n    text-align: center;\n    font-size: 12rem;\n    font-family: PingFangSC, PingFangSC-Regular;\n    font-weight: 500;\n    color: #ffffff;\n    line-height: 18rem;\n    position: absolute;\n    left: 57rem;\n    top: -5rem;\n}\n\n#add_order .divCart .moreGoods {\n    width: 25rem;\n    height: 25rem;\n    line-height: 25rem;\n}\n\n.ss-dish{\n    margin-left: 10rem;\n    margin-bottom: 2rem;\n    /*margin: 6rem 0;*/\n}\n\n</style>"]}]}